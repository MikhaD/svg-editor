var ts=Object.defineProperty;var ss=(n,e,t)=>e in n?ts(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var z=(n,e,t)=>(ss(n,typeof e!="symbol"?e+"":e,t),t),Ye=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var _=(n,e,t)=>(Ye(n,e,"read from private field"),t?t.call(n):e.get(n)),G=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},y=(n,e,t,s)=>(Ye(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),Ne=(n,e,t,s)=>({set _(l){y(n,e,l,t)},get _(){return _(n,e,s)}}),_t=(n,e,t)=>(Ye(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function q(){}function ns(n,e){for(const t in e)n[t]=e[t];return n}function Gt(n){return n()}function gt(){return Object.create(null)}function _e(n){n.forEach(Gt)}function Yt(n){return typeof n=="function"}function Y(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function ls(n){return Object.keys(n).length===0}function os(n,...e){if(n==null)return q;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Wt(n,e,t){n.$$.on_destroy.push(os(e,t))}function Je(n,e,t,s){if(n){const l=Ft(n,e,t,s);return n[0](l)}}function Ft(n,e,t,s){return n[1]&&s?ns(t.ctx.slice(),n[1](s(e))):t.ctx}function et(n,e,t,s){if(n[2]&&s){const l=n[2](s(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],r=Math.max(e.dirty.length,l.length);for(let i=0;i<r;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function tt(n,e,t,s,l,o){if(l){const r=Ft(e,t,s,o);n.p(r,l)}}function st(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function $(n,e){n.appendChild(e)}function v(n,e,t){n.insertBefore(e,t||null)}function b(n){n.parentNode&&n.parentNode.removeChild(n)}function Ce(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function T(n){return document.createElement(n)}function j(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function te(n){return document.createTextNode(n)}function N(){return te(" ")}function Ke(){return te("")}function B(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function rs(n){return function(e){e.target===this&&n.call(this,e)}}function h(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function is(n){return Array.from(n.childNodes)}function Ie(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function bt(n,e){n.value=e??""}function ze(n,e,t,s){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,s?"important":"")}let Oe;function cs(){if(Oe===void 0){Oe=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Oe=!0}}return Oe}function us(n,e){getComputedStyle(n).position==="static"&&(n.style.position="relative");const s=T("iframe");s.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),s.setAttribute("aria-hidden","true"),s.tabIndex=-1;const l=cs();let o;return l?(s.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=B(window,"message",r=>{r.source===s.contentWindow&&e()})):(s.src="about:blank",s.onload=()=>{o=B(s.contentWindow,"resize",e)}),$(n,s),()=>{(l||o&&s.contentWindow)&&o(),b(s)}}function we(n,e,t){n.classList[t?"add":"remove"](e)}let nt;function Re(n){nt=n}const Me=[],fe=[],Be=[],Xe=[],fs=Promise.resolve();let Qe=!1;function as(){Qe||(Qe=!0,fs.then(Zt))}function qe(n){Be.push(n)}function De(n){Xe.push(n)}const We=new Set;let ke=0;function Zt(){if(ke!==0)return;const n=nt;do{try{for(;ke<Me.length;){const e=Me[ke];ke++,Re(e),hs(e.$$)}}catch(e){throw Me.length=0,ke=0,e}for(Re(null),Me.length=0,ke=0;fe.length;)fe.pop()();for(let e=0;e<Be.length;e+=1){const t=Be[e];We.has(t)||(We.add(t),t())}Be.length=0}while(Me.length);for(;Xe.length;)Xe.pop()();Qe=!1,We.clear(),Re(n)}function hs(n){if(n.fragment!==null){n.update(),_e(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(qe)}}const je=new Set;let ge;function ie(){ge={r:0,c:[],p:ge}}function ce(){ge.r||_e(ge.c),ge=ge.p}function g(n,e){n&&n.i&&(je.delete(n),n.i(e))}function w(n,e,t,s){if(n&&n.o){if(je.has(n))return;je.add(n),ge.c.push(()=>{je.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const ds=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function He(n,e,t){const s=n.$$.props[e];s!==void 0&&(n.$$.bound[s]=t,t(n.$$.ctx[s]))}function K(n){n&&n.c()}function R(n,e,t,s){const{fragment:l,after_update:o}=n.$$;l&&l.m(e,t),s||qe(()=>{const r=n.$$.on_mount.map(Gt).filter(Yt);n.$$.on_destroy?n.$$.on_destroy.push(...r):_e(r),n.$$.on_mount=[]}),o.forEach(qe)}function C(n,e){const t=n.$$;t.fragment!==null&&(_e(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ps(n,e){n.$$.dirty[0]===-1&&(Me.push(n),as(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function X(n,e,t,s,l,o,r,i=[-1]){const c=nt;Re(n);const u=n.$$={fragment:null,ctx:[],props:o,update:q,not_equal:l,bound:gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:gt(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};r&&r(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(a,m,...S)=>{const A=S.length?S[0]:m;return u.ctx&&l(u.ctx[a],u.ctx[a]=A)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](A),f&&ps(n,a)),m}):[],u.update(),f=!0,_e(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const a=is(e.target);u.fragment&&u.fragment.l(a),a.forEach(b)}else u.fragment&&u.fragment.c();e.intro&&g(n.$$.fragment),R(n,e.target,e.anchor,e.customElement),Zt()}Re(c)}class Q{$destroy(){C(this,1),this.$destroy=q}$on(e,t){if(!Yt(t))return q;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const l=s.indexOf(t);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!ls(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Se=[];function ms(n,e=q){let t;const s=new Set;function l(i){if(Y(n,i)&&(n=i,t)){const c=!Se.length;for(const u of s)u[1](),Se.push(u,n);if(c){for(let u=0;u<Se.length;u+=2)Se[u][0](Se[u+1]);Se.length=0}}}function o(i){l(i(n))}function r(i,c=q){const u=[i,c];return s.add(u),s.size===1&&(t=e(l)||q),i(n),()=>{s.delete(u),s.size===0&&(t(),t=null)}}return{set:l,update:o,subscribe:r}}function _s(n){return n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}function $t(n,e=1){return Math.round(n/e)*e}function vt(n,e=/\s/){return n.replace(new RegExp(`^${e.source}+|${e.source}+$`,"g"),"")}var Ue;class lt{static next(){return`${Date.now().toString(36)}-${(++Ne(this,Ue)._).toString(36)}`}}Ue=new WeakMap,G(lt,Ue,0);class gs{constructor(e,t=null){z(this,"data");z(this,"next");z(this,"prev");this.data=e,this.prev=t,this.next=null}}var Z,W,he;class bs{constructor(e){G(this,Z,void 0);G(this,W,void 0);G(this,he,void 0);if(y(this,Z,null),y(this,W,null),y(this,he,0),e)for(const t of e)this.push(t)}push(e){const t=new gs(e,_(this,W));_(this,W)&&(_(this,W).next=t),y(this,W,t),_(this,Z)||y(this,Z,t),++Ne(this,he)._}pop(){if(!_(this,W))return null;const e=_(this,W).data;return y(this,W,_(this,W).prev),_(this,W)?_(this,W).next=null:y(this,Z,null),--Ne(this,he)._,e}shift(){if(!_(this,Z))return null;const e=_(this,Z).data;return y(this,Z,_(this,Z).next),_(this,Z)?_(this,Z).prev=null:y(this,W,null),--Ne(this,he)._,e}peek(){var e;return((e=_(this,W))==null?void 0:e.data)??null}get length(){return _(this,he)}[Symbol.iterator](){let e=_(this,Z);return{next:()=>{if(e){const t=e.data;return e=e.next,{value:t,done:!1}}else return{done:!0}}}}}Z=new WeakMap,W=new WeakMap,he=new WeakMap;function Fe(n){if(!isNaN(n)&&typeof n!="number")throw new TypeError("Invalid number");return n}function wt(n){if(typeof n!="string")throw new TypeError("Invalid string");return n}var de;const ae=class{constructor(e,t,s,l){G(this,de,void 0);z(this,"ctrl");z(this,"shift");z(this,"alt");arguments.length===1?this.parse(e):(y(this,de,ae.normalizeKey(e,!0)),this.ctrl=t??!1,this.shift=s??!1,this.alt=l??!1)}get key(){return _(this,de)}parse(e){let t=null;this.alt=!1,this.ctrl=!1,this.shift=!1;const s=e.trim().toLowerCase().split(/\s*\+\s*/);for(const l of s)switch(l){case"ctrl":this.ctrl=!0;break;case"shift":this.shift=!0;break;case"alt":this.alt=!0;break;default:t=l;break}y(this,de,this.shift&&t===""?"+":ae.normalizeKey(t,!0))}equals(e){return this.toString()==e.toString()}matches(e){return this.key==ae.normalizeKey(e.key)&&this.ctrl==e.ctrlKey&&this.shift==e.shiftKey&&this.alt==e.altKey}copy(){const e=new ae(null,this.ctrl,this.shift,this.alt);return y(e,de,_(this,de)),e}static normalizeKey(e,t=!1){return t&&!ae.VALID_KEYS.has(e==null?void 0:e.toLowerCase())?"":ae.IRREGULAR_KEYS[e.toLowerCase()]??e.toLowerCase()}toString(){return`${this.ctrl?"Ctrl+":""}${this.shift?"Shift+":""}${this.alt?"Alt+":""}${_s(this.key)}`}};let re=ae;de=new WeakMap,z(re,"VALID_KEYS",new Set([..."0123456789 abcdefghijklmnopqrstuvwxyz_+-=`~@#$%^&*()[]{}<>/\\|;:\"',.?!","escape","enter","os","meta","tab","arrowup","arrowright","arrowdown","arrowleft","backspace","delete","end","home","pageup","pagedown"])),z(re,"IRREGULAR_KEYS",{" ":"space",meta:"cmd",command:"cmd",control:"ctrl",os:"⊞",escape:"esc",delete:"del",arrowup:"⇧",arrowright:"⇨",arrowdown:"⇩",arrowleft:"⇦"});var F;class $s{constructor(){G(this,F,void 0);y(this,F,new Map)}set(e){const t=e.toString();return _(this,F).has(t)?_(this,F).get(t).push(e):_(this,F).set(t,[e]),this}delete(e){const t=e.toString();if(_(this,F).has(t)){const s=_(this,F).get(t).indexOf(e);if(s>=0)return _(this,F).get(t).length===1?(_(this,F).delete(t),!0):(_(this,F).get(t).splice(s,1),!0)}return!1}hasCombo(e){const t=_(this,F).get(e.toString());return t?t.length:0}has(e){const t=e.toString();return _(this,F).has(t)?_(this,F).get(t).includes(e):!1}}F=new WeakMap;var pe;const Le=class{constructor(e){z(this,"id");z(this,"description");G(this,pe,void 0);z(this,"default_combo");z(this,"callback");this.id=lt.next(),y(this,pe,new re(e.combo??e.default_combo)),this.default_combo=new re(e.default_combo),this.description=e.description,this.callback=e.callback,Le.ALL.push(this),Le.SHORTCUTS.set(this)}get combo(){return _(this,pe)}set combo(e){Le.SHORTCUTS.delete(this),y(this,pe,e),Le.SHORTCUTS.set(this)}reset(){this.combo=this.default_combo}try(e){return _(this,pe).matches(e)?(this.callback(e),!0):!1}toString(){return _(this,pe).toString()}};let ee=Le;pe=new WeakMap,z(ee,"SHORTCUTS",new $s),z(ee,"ALL",[]);const ot=ms();class vs{constructor(e="move"){z(this,"state");z(this,"stateName");z(this,"states");this.states={move:new ws,draw:new ys},this.transition(e)}transition(e){if(this.state){if(this.state.name===e)return;this.state.onStateExit()}this.stateName=e,this.state=this.states[e],ot.set(this.state),this.state.onStateEnter()}}class Xt{constructor(e){z(this,"name");z(this,"icon");z(this,"shortcuts",[]);this.name=e}noop(){}}class ws extends Xt{constructor(){super("move"),this.icon="M82.816 238.634l52.651-79.545 90.268-24.504L37.917 21.049l44.9 217.585zm107.122-109.07L58.425 50.062l31.403 152.206 36.736-55.495 63.374-17.209z"}onStateEnter(){}onStateExit(){}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onKeyPress(e){}}class ys extends Xt{constructor(){super("draw"),this.icon="M188.843 238.62l50.289-50.275-36.579-36.58c2.375-7.495 3.669-15.488 3.669-23.765 0-36.409-24.86-66.987-58.524-75.719L14.222 14.222l37.163 129.65c7.353 35.584 38.855 62.35 76.615 62.35 8.562 0 16.811-1.379 24.519-3.925l36.324 36.323zM144.114 66.048L48.981 38.926l69.817 69.817a21.24 21.24 0 0 1 9.202-2.076c11.776 0 21.333 9.557 21.333 21.333s-9.557 21.333-21.333 21.333-21.333-9.557-21.333-21.333a21.24 21.24 0 0 1 2.076-9.202L39.012 49.067l26.311 91.932C71.324 170.112 97.124 192 128 192c7.396.043 13.397-.967 20.068-3.2l8.32-2.745 6.186 6.187 26.283 26.268 30.151-30.165-26.524-26.539-6.116-6.115 2.631-8.249c2.105-6.471 3.044-12.288 3.001-19.442 0-29.767-20.309-54.812-47.886-61.952z",this.shortcuts=[new ee({default_combo:"Escape",description:"Cancel drawing",callback:()=>Ee.transition("move")})]}onStateEnter(){}onStateExit(){}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onKeyPress(e){for(let t of this.shortcuts)t.try(e)}}const Ee=new vs("move");function ks(n){let e,t;const s=n[1].default,l=Je(s,n,n[0],null);return{c(){e=T("aside"),l&&l.c(),h(e,"class","svelte-1pzlsaf")},m(o,r){v(o,e,r),l&&l.m(e,null),t=!0},p(o,[r]){l&&l.p&&(!t||r&1)&&tt(l,s,o,o[0],t?et(s,o[0],r,null):st(o[0]),null)},i(o){t||(g(l,o),t=!0)},o(o){w(l,o),t=!1},d(o){o&&b(e),l&&l.d(o)}}}function Ss(n,e,t){let{$$slots:s={},$$scope:l}=e;return n.$$set=o=>{"$$scope"in o&&t(0,l=o.$$scope)},[l,s]}class yt extends Q{constructor(e){super(),X(this,e,Ss,ks,Y,{})}}function Ms(n){let e,t,s,l,o,r,i;const c=n[3].default,u=Je(c,n,n[2],null);return{c(){e=T("span"),t=T("input"),s=N(),l=T("label"),u&&u.c(),h(t,"type","checkbox"),h(t,"id",n[1]),h(t,"class","svelte-1mkzoh8"),h(l,"for",n[1]),h(e,"class","svelte-1mkzoh8")},m(f,a){v(f,e,a),$(e,t),t.checked=n[0],$(e,s),$(e,l),u&&u.m(l,null),o=!0,r||(i=B(t,"change",n[4]),r=!0)},p(f,[a]){a&1&&(t.checked=f[0]),u&&u.p&&(!o||a&4)&&tt(u,c,f,f[2],o?et(c,f[2],a,null):st(f[2]),null)},i(f){o||(g(u,f),o=!0)},o(f){w(u,f),o=!1},d(f){f&&b(e),u&&u.d(f),r=!1,i()}}}function zs(n,e,t){let{$$slots:s={},$$scope:l}=e,{checked:o=!1}=e;const r=lt.next();function i(){o=this.checked,t(0,o)}return n.$$set=c=>{"checked"in c&&t(0,o=c.checked),"$$scope"in c&&t(2,l=c.$$scope)},[o,r,l,s,i]}class Qt extends Q{constructor(e){super(),X(this,e,zs,Ms,Y,{checked:0})}}class oe extends Error{constructor(e){super(e)}}var Ae,be,Pe;const Ve=class{constructor(e,t,s=!1){G(this,Ae,void 0);G(this,be,void 0);G(this,Pe,void 0);z(this,"selected");if(isNaN(e)||isNaN(t))throw new oe("Invalid coordinate");y(this,Ae,e),y(this,be,t),y(this,Pe,s),this.selected=!1}get x(){return _(this,Ae)}get y(){return _(this,be)}get control(){return _(this,Pe)}relativeTo(e){return new Ve(this.x-e.x,this.y-e.y)}toString(e){return`${_(this,Ae)}${e&&_(this,be)<0?"":","}${_(this,be)}`}};let ue=Ve;Ae=new WeakMap,be=new WeakMap,Pe=new WeakMap,z(ue,"ORIGIN",new Ve(0,0));var le,$e;class O{constructor(e,t,s){G(this,le,void 0);G(this,$e,void 0);z(this,"dest");z(this,"relative");y(this,$e,e),y(this,le,null),e&&y(e,le,this),this.dest=t,this.relative=s}toString(){return this.relative?this.asRelative():this.asAbsolute()}addChild(e){_(this,le)&&(y(_(this,le),$e,e),y(e,le,_(this,le))),y(this,le,e),y(e,$e,this)}asSegment(){var e;return`M${((e=this.prev)==null?void 0:e.dest)??ue.ORIGIN}${this.asAbsolute()}`}static getAbsolutePoint(e,t,s,l,o=!1){return l?new ue(e.x+t,e.y+s,o):new ue(t,s,o)}get prev(){return _(this,$e)}get next(){return _(this,le)}}le=new WeakMap,$e=new WeakMap;class xe extends O{constructor(e,t,s){super(e,t,s)}asRelative(){var e;return`m${this.dest.relativeTo(((e=this.prev)==null?void 0:e.dest)??ue.ORIGIN)}`}asAbsolute(){return`M${this.dest}`}static from(e,t,s){return new xe(t,O.getAbsolutePoint((t==null?void 0:t.dest)??ue.ORIGIN,+e.pop(),+e.pop(),s),s)}}class rt extends O{constructor(e,t,s){if(e.dest.y!==t.y)throw new oe(`Invalid point ${t}}`);super(e,t,s)}asRelative(){return`h${this.dest.relativeTo(this.prev.dest).x}`}asAbsolute(){return`H${this.dest.x}`}static from(e,t,s){return new rt(t,O.getAbsolutePoint(t.dest,+e.pop(),s?0:t.dest.y,s),s)}}class it extends O{constructor(e,t,s){if(e.dest.x!==t.x)throw new oe(`Invalid V: (${e.dest}) → (${t})`);super(e,t,s)}asRelative(){return`v${this.dest.relativeTo(this.prev.dest).y}`}asAbsolute(){return`V${this.dest.y}`}static from(e,t,s){return new it(t,O.getAbsolutePoint(t.dest,s?0:t.dest.x,+e.pop(),s),s)}}class ct extends O{constructor(e,t,s){super(e,t,s)}asRelative(){return`l${this.dest.relativeTo(this.prev.dest)}`}asAbsolute(){return`L${this.dest}`}static from(e,t,s){return new ct(t,O.getAbsolutePoint(t.dest,+e.pop(),+e.pop(),s),s)}}class ut extends O{constructor(t,s,l,o){if(!s.control)throw new oe("Invalid control point");super(t,l,o);z(this,"ctrl");this.ctrl=s}asRelative(){return`q${this.ctrl.relativeTo(this.prev.dest)} ${this.dest.relativeTo(this.prev.dest)}`}asAbsolute(){return`Q${this.ctrl} ${this.dest}`}static from(t,s,l){return new ut(s,O.getAbsolutePoint(s.dest,+t.pop(),+t.pop(),l,!0),O.getAbsolutePoint(s.dest,+t.pop(),+t.pop(),l),l)}}class ft extends O{constructor(e,t,s){super(e,t,s)}asRelative(){return`t${this.dest.relativeTo(this.prev.dest)}`}asAbsolute(){return`T${this.dest}`}static from(e,t,s){return new ft(t,O.getAbsolutePoint(t.dest,+e.pop(),+e.pop(),s),s)}}class at extends O{constructor(t,s,l,o,r){if(!s.control||!l.control)throw new oe("Invalid control points");super(t,o,r);z(this,"ctrl1");z(this,"ctrl2");this.ctrl1=s,this.ctrl2=l}asRelative(){return`c${this.ctrl1.relativeTo(this.prev.dest)} ${this.ctrl2.relativeTo(this.prev.dest)} ${this.dest.relativeTo(this.prev.dest)}`}asAbsolute(){return`C${this.ctrl1} ${this.ctrl2} ${this.dest}`}static from(t,s,l){return new at(s,O.getAbsolutePoint(s.dest,+t.pop(),+t.pop(),l,!0),O.getAbsolutePoint(s.dest,+t.pop(),+t.pop(),l,!0),O.getAbsolutePoint(s.dest,+t.pop(),+t.pop(),l),l)}}class ht extends O{constructor(t,s,l,o){if(!s.control)throw new oe("Invalid control point");super(t,l,o);z(this,"ctrl");this.ctrl=s}asRelative(){return`s${this.ctrl.relativeTo(this.prev.dest)} ${this.dest.relativeTo(this.prev.dest)}`}asAbsolute(){return`S${this.ctrl} ${this.dest}`}static from(t,s,l){return new ht(s,O.getAbsolutePoint(s.dest,+t.pop(),+t.pop(),l,!0),O.getAbsolutePoint(s.dest,+t.pop(),+t.pop(),l),l)}}class dt extends O{constructor(t,s,l,o,r,i,c,u){if(isNaN(l)||isNaN(o)||isNaN(r))throw new oe("Invalid arc parameters");super(t,s,u);z(this,"rx");z(this,"ry");z(this,"rotation");z(this,"large");z(this,"sweep");this.rx=Math.abs(l),this.ry=Math.abs(o),this.rotation=r,this.large=i,this.sweep=c}asRelative(){return`a${this.rx},${this.ry} ${this.rotation} ${+this.large},${+this.sweep} ${this.dest.relativeTo(this.prev.dest)}`}asAbsolute(){return`A${this.rx},${this.ry} ${this.rotation} ${+this.large},${+this.sweep} ${this.dest}`}static from(t,s,l){const o=Fe(+t.pop()),r=Fe(+t.pop()),i=Fe(+t.pop());let c,u,f,a=wt(t.pop());if(a.length>1?(c=+a[0],u=+a[1],a.length>2?f=+a.slice(2):f=+t.pop()):(c=+a,a=wt(t.pop()),u=+a[0],a.length>1?f=+a.slice(1):f=+t.pop()),c!==0&&c!==1)throw new oe("Invalid arc large flag");if(u!==0&&u!==1)throw new oe("Invalid arc sweep flag");let m=+t.pop();return new dt(s,O.getAbsolutePoint(s.dest,f,m,l),o,r,i,Boolean(c),Boolean(u),l)}}class Ls extends O{constructor(e,t,s){super(e,t.dest,s)}asRelative(){return"z"}asAbsolute(){return"Z"}}var ve,P,Te,Ge,Jt,Vt;let As=(Vt=class{constructor(e){G(this,Ge);G(this,ve,void 0);G(this,P,void 0);G(this,Te,void 0);e&&_t(this,Ge,Jt).call(this,e)}[Symbol.iterator](){let e=_(this,ve);return{next:()=>{if(e){const t=e;return e=e.next,{value:t,done:!1}}else return{done:!0}}}}relative(e=" "){const t=[];for(const s of this)t.push(s.asRelative());return t.join(e)}absolute(e=" "){const t=[];for(const s of this)t.push(s.asAbsolute());return t.join(e)}toString(e=" "){return[...this].join(e)}get length(){let e=0;for(const t of this)++e;return e}},ve=new WeakMap,P=new WeakMap,Te=new WeakMap,Ge=new WeakSet,Jt=function(e){const t=new bs(e.match(/[a-z]|-?\d*\.?\d+/gi).reverse());let s;if(t.length>0){if(s=t.pop(),s.toLowerCase()!=="m")throw new oe("Missing initial moveto");y(this,ve,xe.from(t,null,s.toLowerCase()===s)),y(this,Te,_(this,ve)),y(this,P,_(this,ve))}for(;t.length>0;){isNaN(+t.peek())&&(s=t.pop());const l=s.toLowerCase()===s;switch(s.toLowerCase()){case"m":y(this,P,xe.from(t,_(this,P),l)),y(this,Te,_(this,P));break;case"h":y(this,P,rt.from(t,_(this,P),l));break;case"v":y(this,P,it.from(t,_(this,P),l));break;case"l":y(this,P,ct.from(t,_(this,P),l));break;case"q":y(this,P,ut.from(t,_(this,P),l));break;case"t":y(this,P,ft.from(t,_(this,P),l));break;case"c":y(this,P,at.from(t,_(this,P),l));break;case"s":y(this,P,ht.from(t,_(this,P),l));break;case"a":y(this,P,dt.from(t,_(this,P),l));break;case"z":y(this,P,new Ls(_(this,P),_(this,Te),l));break;default:throw new oe(`Invalid path command: ${s}`)}}},Vt);function Ts(n){let e,t,s,l,o,r,i,c,u,f;return{c(){e=T("button"),t=j("svg"),s=j("mask"),l=j("rect"),o=j("path"),r=j("g"),i=j("path"),c=j("path"),h(l,"x","0"),h(l,"y","0"),h(l,"width","100%"),h(l,"height","100%"),h(l,"fill","#fff"),h(o,"fill","#000"),h(o,"id","cutout-path"),h(o,"d","M0 -11l70 51c7 5 7 15 0 20l-70 51z"),h(s,"id","cutout"),h(i,"class","cog svelte-up99lr"),h(i,"fill-rule","evenodd"),h(i,"d","M53.706 0h-7.41l-2.085 5.537-5.878 1.17-4.044-4.32-6.845 2.835.192 5.914-4.983 3.33-5.39-2.443-5.24 5.24 2.44 5.4-3.33 4.983-5.913-.195L2.4 34.287l4.318 4.046-1.17 5.878-5.538 2.083v7.41l5.537 2.085 1.17 5.878L2.4 65.713l2.835 6.845 5.913-.195 3.33 4.983-2.44 5.4 5.24 5.24 5.39-2.443 4.983 3.33-.192 5.914 6.845 2.835 4.044-4.32 5.878 1.17L46.297 100h7.41l2.083-5.538 5.878-1.17 4.046 4.318 6.845-2.835-.195-5.913 4.983-3.33 5.4 2.44 5.24-5.24-2.443-5.39 3.33-4.983 5.914.192 2.835-6.845-4.32-4.044 1.17-5.878L100 53.703v-7.41l-5.538-2.083-1.17-5.878 4.32-4.044-2.835-6.845-5.914.192-3.33-4.983 2.443-5.39-5.24-5.24-5.4 2.44-4.983-3.33.195-5.913-6.845-2.835-4.046 4.318-5.878-1.17L53.706 0zM50 83.213c18.343 0 33.214-14.87 33.214-33.213S68.344 16.787 50 16.787 16.787 31.657 16.787 50 31.657 83.213 50 83.213z"),h(r,"mask","url(#cutout)"),h(c,"class","m svelte-up99lr"),h(c,"d","M7.5 24v52h7v-39l13 39l13 -39v39h7v-52h-10l-10 32l-10 -32z"),h(t,"viewBox","0 0 100 100"),h(t,"class","svelte-up99lr"),h(e,"class","svelte-up99lr")},m(a,m){v(a,e,m),$(e,t),$(t,s),$(s,l),$(s,o),$(t,r),$(r,i),$(t,c),u||(f=B(i,"animationend",n[0]),u=!0)},p:q,i:q,o:q,d(a){a&&b(e),u=!1,f()}}}function Es(n){return[()=>console.log("animation ended")]}class Ns extends Q{constructor(e){super(),X(this,e,Es,Ts,Y,{})}}function Rs(n){let e,t,s,l,o,r;return{c(){e=T("button"),t=j("svg"),s=j("path"),h(s,"fill-rule","evenodd"),h(s,"d",l=n[0].icon),h(s,"class","svelte-vab1rb"),h(t,"viewBox","0 0 256 256"),h(t,"height","24"),h(t,"fill","none"),h(e,"class","toolbar-button svelte-vab1rb"),we(e,"active",n[1])},m(i,c){v(i,e,c),$(e,t),$(t,s),o||(r=B(e,"mousedown",n[2]),o=!0)},p(i,[c]){c&1&&l!==(l=i[0].icon)&&h(s,"d",l),c&2&&we(e,"active",i[1])},i:q,o:q,d(i){i&&b(e),o=!1,r()}}}function Cs(n,e,t){let s,l;Wt(n,ot,i=>t(3,l=i));let{thisState:o}=e;function r(){Ee.transition(o.name)}return n.$$set=i=>{"thisState"in i&&t(0,o=i.thisState)},n.$$.update=()=>{n.$$.dirty&9&&t(1,s=o.name===l.name)},[o,s,r,l]}class Is extends Q{constructor(e){super(),X(this,e,Cs,Rs,Y,{thisState:0})}}function kt(n,e,t){const s=n.slice();return s[0]=e[t],s}function St(n){let e,t;return e=new Is({props:{thisState:n[0]}}),{c(){K(e.$$.fragment)},m(s,l){R(e,s,l),t=!0},p:q,i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function Ps(n){let e,t,s,l;t=new Ns({});let o=Object.values(Ee.states),r=[];for(let c=0;c<o.length;c+=1)r[c]=St(kt(n,o,c));const i=c=>w(r[c],1,1,()=>{r[c]=null});return{c(){e=T("div"),K(t.$$.fragment),s=N();for(let c=0;c<r.length;c+=1)r[c].c();h(e,"class","toolbar svelte-1ldks7c")},m(c,u){v(c,e,u),R(t,e,null),$(e,s);for(let f=0;f<r.length;f+=1)r[f].m(e,null);l=!0},p(c,[u]){if(u&0){o=Object.values(Ee.states);let f;for(f=0;f<o.length;f+=1){const a=kt(c,o,f);r[f]?(r[f].p(a,u),g(r[f],1)):(r[f]=St(a),r[f].c(),g(r[f],1),r[f].m(e,null))}for(ie(),f=o.length;f<r.length;f+=1)i(f);ce()}},i(c){if(!l){g(t.$$.fragment,c);for(let u=0;u<o.length;u+=1)g(r[u]);l=!0}},o(c){w(t.$$.fragment,c),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);l=!1},d(c){c&&b(e),C(t),Ce(r,c)}}}class Ks extends Q{constructor(e){super(),X(this,e,null,Ps,Y,{})}}function Ds(n){let e,t;return{c(){e=T("span"),t=te(n[0]),h(e,"class","key svelte-1tlr9lt")},m(s,l){v(s,e,l),$(e,t)},p(s,[l]){l&1&&Ie(t,s[0])},i:q,o:q,d(s){s&&b(e)}}}function Hs(n,e,t){let{key:s}=e;return n.$$set=l=>{"key"in l&&t(0,s=l.key)},[s]}class me extends Q{constructor(e){super(),X(this,e,Hs,Ds,Y,{key:0})}}function Mt(n){let e,t;return e=new me({props:{key:"Ctrl"}}),{c(){K(e.$$.fragment)},m(s,l){R(e,s,l),t=!0},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function zt(n){let e,t;return e=new me({props:{key:"Alt"}}),{c(){K(e.$$.fragment)},m(s,l){R(e,s,l),t=!0},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function Lt(n){let e,t;return e=new me({props:{key:"Shift"}}),{c(){K(e.$$.fragment)},m(s,l){R(e,s,l),t=!0},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function At(n){let e,t;return e=new me({props:{key:re.IRREGULAR_KEYS[n[0].key]??n[0].key}}),{c(){K(e.$$.fragment)},m(s,l){R(e,s,l),t=!0},p(s,l){const o={};l&1&&(o.key=re.IRREGULAR_KEYS[s[0].key]??s[0].key),e.$set(o)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function Os(n){let e,t,s,l,o,r=n[0].ctrl&&Mt(),i=n[0].alt&&zt(),c=n[0].shift&&Lt(),u=n[0].key&&At(n);return{c(){e=T("div"),r&&r.c(),t=N(),i&&i.c(),s=N(),c&&c.c(),l=N(),u&&u.c(),h(e,"class","shortcut svelte-1hyh641")},m(f,a){v(f,e,a),r&&r.m(e,null),$(e,t),i&&i.m(e,null),$(e,s),c&&c.m(e,null),$(e,l),u&&u.m(e,null),o=!0},p(f,[a]){f[0].ctrl?r?a&1&&g(r,1):(r=Mt(),r.c(),g(r,1),r.m(e,t)):r&&(ie(),w(r,1,1,()=>{r=null}),ce()),f[0].alt?i?a&1&&g(i,1):(i=zt(),i.c(),g(i,1),i.m(e,s)):i&&(ie(),w(i,1,1,()=>{i=null}),ce()),f[0].shift?c?a&1&&g(c,1):(c=Lt(),c.c(),g(c,1),c.m(e,l)):c&&(ie(),w(c,1,1,()=>{c=null}),ce()),f[0].key?u?(u.p(f,a),a&1&&g(u,1)):(u=At(f),u.c(),g(u,1),u.m(e,null)):u&&(ie(),w(u,1,1,()=>{u=null}),ce())},i(f){o||(g(r),g(i),g(c),g(u),o=!0)},o(f){w(r),w(i),w(c),w(u),o=!1},d(f){f&&b(e),r&&r.d(),i&&i.d(),c&&c.d(),u&&u.d()}}}function Bs(n,e,t){let{combo:s}=e;return n.$$set=l=>{"combo"in l&&t(0,s=l.combo)},[s]}class es extends Q{constructor(e){super(),X(this,e,Bs,Os,Y,{combo:0})}}function js(n){let e,t,s,l,o;return t=new me({props:{key:"Enter"}}),l=new me({props:{key:"Esc"}}),{c(){e=te("Shortcut contains "),K(t.$$.fragment),s=te(" and / or "),K(l.$$.fragment)},m(r,i){v(r,e,i),R(t,r,i),v(r,s,i),R(l,r,i),o=!0},p:q,i(r){o||(g(t.$$.fragment,r),g(l.$$.fragment,r),o=!0)},o(r){w(t.$$.fragment,r),w(l.$$.fragment,r),o=!1},d(r){r&&b(e),C(t,r),r&&b(s),C(l,r)}}}function Tt(n){let e,t,s=n[3]>1?"s have":" has",l,o;return{c(){e=te(n[3]),t=te(" existing command"),l=te(s),o=te(" this keybinding")},m(r,i){v(r,e,i),v(r,t,i),v(r,l,i),v(r,o,i)},p(r,i){i&8&&Ie(e,r[3]),i&8&&s!==(s=r[3]>1?"s have":" has")&&Ie(l,s)},d(r){r&&b(e),r&&b(t),r&&b(l),r&&b(o)}}}function qs(n){let e,t,s,l,o,r,i,c,u,f,a,m,S,A,k,J,V,x,se,D;l=new me({props:{key:"Enter"}});function U(d){n[8](d)}let L={$$slots:{default:[js]},$$scope:{ctx:n}};n[2]!==void 0&&(L.checked=n[2]),i=new Qt({props:L}),fe.push(()=>He(i,"checked",U)),k=new es({props:{combo:n[1]}});let E=n[3]>0&&Tt(n);return{c(){e=T("div"),t=T("div"),s=te("Press the desired key combination, then press "),K(l.$$.fragment),o=N(),r=T("div"),K(i.$$.fragment),u=N(),f=T("form"),a=T("input"),S=N(),A=T("div"),K(k.$$.fragment),J=N(),V=T("div"),E&&E.c(),h(t,"class","svelte-e8n25g"),h(r,"class","freeze svelte-e8n25g"),a.value=m=vt(n[1].toString(),/\+/),h(a,"type","text"),a.autofocus=!0,h(a,"class","svelte-e8n25g"),we(a,"invalid",xs),we(a,"failed-submit",n[4]),h(f,"method","dialog"),h(A,"class","display svelte-e8n25g"),h(V,"class","display clash svelte-e8n25g"),h(e,"class","set-shortcut svelte-e8n25g")},m(d,M){v(d,e,M),$(e,t),$(t,s),R(l,t,null),$(e,o),$(e,r),R(i,r,null),$(e,u),$(e,f),$(f,a),n[10](a),$(e,S),$(e,A),R(k,A,null),$(e,J),$(e,V),E&&E.m(V,null),x=!0,a.focus(),se||(D=[B(r,"click",n[9]),B(a,"animationend",n[11]),B(a,"keydown",n[5]),B(f,"submit",n[6])],se=!0)},p(d,[M]){const I={};M&4096&&(I.$$scope={dirty:M,ctx:d}),!c&&M&4&&(c=!0,I.checked=d[2],De(()=>c=!1)),i.$set(I),(!x||M&2&&m!==(m=vt(d[1].toString(),/\+/))&&a.value!==m)&&(a.value=m),(!x||M&16)&&we(a,"failed-submit",d[4]);const p={};M&2&&(p.combo=d[1]),k.$set(p),d[3]>0?E?E.p(d,M):(E=Tt(d),E.c(),E.m(V,null)):E&&(E.d(1),E=null)},i(d){x||(g(l.$$.fragment,d),g(i.$$.fragment,d),g(k.$$.fragment,d),x=!0)},o(d){w(l.$$.fragment,d),w(i.$$.fragment,d),w(k.$$.fragment,d),x=!1},d(d){d&&b(e),C(l),C(i),n[10](null),C(k),E&&E.d(),se=!1,_e(D)}}}let xs=!1;function Us(n,e,t){let{shortcut:s}=e,l,o=new re,r=!1,i=0,c=!1;function u(k){if(r||k.key!=="Enter"&&k.key!=="Escape")k.preventDefault();else return;t(1,o=new re(k.key,k.ctrlKey,k.shiftKey,k.altKey)),t(3,i=ee.SHORTCUTS.hasCombo(o)-Number(s.combo.equals(o)))}function f(k){t(7,s.combo=o,s)}function a(k){r=k,t(2,r)}const m=()=>l.focus();function S(k){fe[k?"unshift":"push"](()=>{l=k,t(0,l)})}const A=()=>t(4,c=!1);return n.$$set=k=>{"shortcut"in k&&t(7,s=k.shortcut)},[l,o,r,i,c,u,f,s,a,m,S,A]}class Vs extends Q{constructor(e){super(),X(this,e,Us,qs,Y,{shortcut:7})}}function Et(n){let e,t;return{c(){e=T("h2"),t=te(n[1]),h(e,"class","title svelte-jwoh95")},m(s,l){v(s,e,l),$(e,t)},p(s,l){l&2&&Ie(t,s[1])},d(s){s&&b(e)}}}function Gs(n){let e,t,s,l,o,r,i,c,u,f=n[1]&&Et(n);const a=n[4].default,m=Je(a,n,n[3],null);return{c(){e=T("dialog"),t=j("svg"),s=j("path"),l=N(),o=T("div"),f&&f.c(),r=N(),m&&m.c(),h(s,"d","M.35 .35L3.65 3.65M3.65 .35L.35 3.65"),h(t,"class","close svelte-jwoh95"),h(t,"viewBox","0 0 4 4"),h(o,"class","content svelte-jwoh95"),h(e,"class","modal svelte-jwoh95"),h(e,"data-block-shortcuts","true")},m(S,A){v(S,e,A),$(e,t),$(t,s),$(e,l),$(e,o),f&&f.m(o,null),$(o,r),m&&m.m(o,null),n[7](e),i=!0,c||(u=[B(t,"click",n[5]),B(e,"close",n[6]),B(e,"click",rs(n[8]))],c=!0)},p(S,[A]){S[1]?f?f.p(S,A):(f=Et(S),f.c(),f.m(o,r)):f&&(f.d(1),f=null),m&&m.p&&(!i||A&8)&&tt(m,a,S,S[3],i?et(a,S[3],A,null):st(S[3]),null)},i(S){i||(g(m,S),i=!0)},o(S){w(m,S),i=!1},d(S){S&&b(e),f&&f.d(),m&&m.d(S),n[7](null),c=!1,_e(u)}}}function Ys(n,e,t){let{$$slots:s={},$$scope:l}=e,{open:o=!1}=e,{title:r=""}=e,i;const c=()=>t(0,o=!1),u=()=>t(0,o=!1);function f(m){fe[m?"unshift":"push"](()=>{i=m,t(2,i)})}const a=()=>t(0,o=!1);return n.$$set=m=>{"open"in m&&t(0,o=m.open),"title"in m&&t(1,r=m.title),"$$scope"in m&&t(3,l=m.$$scope)},n.$$.update=()=>{n.$$.dirty&5&&(o?i==null||i.showModal():i==null||i.close())},[o,r,i,l,s,c,u,f,a]}class pt extends Q{constructor(e){super(),X(this,e,Ys,Gs,Y,{open:0,title:1})}}function Nt(n){let e,t,s;return t=new es({props:{combo:n[0].combo}}),{c(){e=T("span"),K(t.$$.fragment),h(e,"class","keys svelte-19hmwz")},m(l,o){v(l,e,o),R(t,e,null),s=!0},p(l,o){const r={};o&1&&(r.combo=l[0].combo),t.$set(r)},i(l){s||(g(t.$$.fragment,l),s=!0)},o(l){w(t.$$.fragment,l),s=!1},d(l){l&&b(e),C(t)}}}function Rt(n){let e,t,s,l;return{c(){e=j("svg"),t=j("path"),h(t,"d","M5 12A12 12 0 1 1 5 20M5 12l0-4l3.3 2.2z"),h(e,"class","reset svelte-19hmwz"),h(e,"viewBox","0 0 32 32")},m(o,r){v(o,e,r),$(e,t),s||(l=B(e,"click",n[2]),s=!0)},p:q,d(o){o&&b(e),s=!1,l()}}}function Ct(n){let e=!n[0].default_combo.equals(n[0].combo),t,s=e&&Rt(n);return{c(){s&&s.c(),t=Ke()},m(l,o){s&&s.m(l,o),v(l,t,o)},p(l,o){o&1&&(e=!l[0].default_combo.equals(l[0].combo)),e?s?s.p(l,o):(s=Rt(l),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(l){s&&s.d(l),l&&b(t)}}}function It(n){let e,t;return e=new Vs({props:{shortcut:n[0]}}),{c(){K(e.$$.fragment)},m(s,l){R(e,s,l),t=!0},p(s,l){const o={};l&1&&(o.shortcut=s[0]),e.$set(o)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function Ws(n){let e,t,s=n[1]&&It(n);return{c(){s&&s.c(),e=Ke()},m(l,o){s&&s.m(l,o),v(l,e,o),t=!0},p(l,o){l[1]?s?(s.p(l,o),o&2&&g(s,1)):(s=It(l),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(ie(),w(s,1,1,()=>{s=null}),ce())},i(l){t||(g(s),t=!0)},o(l){w(s),t=!1},d(l){s&&s.d(l),l&&b(e)}}}function Fs(n){let e,t,s=n[0].description+"",l,o,r=n[1],i,c,u=n[1],f,a,m,S,A,k,J,V,x,se,D=Nt(n),U=Ct(n);function L(d){n[4](d)}let E={$$slots:{default:[Ws]},$$scope:{ctx:n}};return n[1]!==void 0&&(E.open=n[1]),A=new pt({props:E}),fe.push(()=>He(A,"open",L)),{c(){e=T("div"),t=T("span"),l=te(s),o=N(),D.c(),i=N(),c=T("span"),U.c(),f=N(),a=j("svg"),m=j("path"),S=N(),k=T("div"),K(A.$$.fragment),h(m,"d","M188.873 16l4.226.377c11.952 1.065 23.058 7.183 31.312 15.438s14.373 19.361 15.439 31.313l.376 4.225-147.55 147.55-82.949 31.596 31.596-82.949L188.873 16zm6.545 19.131L61.954 168.596l25.676 25.676L221.095 60.808c-1.418-5.678-4.759-11.392-9.522-16.155s-10.477-8.103-16.155-9.522zM71.298 203.617l-18.69-18.689-11.499 30.188 30.189-11.499z"),h(a,"class","edit svelte-19hmwz"),h(a,"viewBox","0 0 256 256"),h(c,"class","options svelte-19hmwz"),h(e,"class","shortcut svelte-19hmwz"),ze(k,"display","contents"),ze(k,"--modal-width","40vw")},m(d,M){v(d,e,M),$(e,t),$(t,l),$(e,o),D.m(e,null),$(e,i),$(e,c),U.m(c,null),$(c,f),$(c,a),$(a,m),v(d,S,M),v(d,k,M),R(A,k,null),V=!0,x||(se=B(a,"click",n[3]),x=!0)},p(d,[M]){(!V||M&1)&&s!==(s=d[0].description+"")&&Ie(l,s),M&2&&Y(r,r=d[1])?(ie(),w(D,1,1,q),ce(),D=Nt(d),D.c(),g(D,1),D.m(e,i)):D.p(d,M),M&2&&Y(u,u=d[1])?(U.d(1),U=Ct(d),U.c(),U.m(c,f)):U.p(d,M);const I={};M&35&&(I.$$scope={dirty:M,ctx:d}),!J&&M&2&&(J=!0,I.open=d[1],De(()=>J=!1)),A.$set(I)},i(d){V||(g(D),g(A.$$.fragment,d),V=!0)},o(d){w(D),w(A.$$.fragment,d),V=!1},d(d){d&&b(e),D.d(d),U.d(d),d&&b(S),d&&A&&b(k),C(A,d),x=!1,se()}}}function Zs(n,e,t){let{shortcut:s}=e,l=!1;function o(){s.reset(),t(0,s)}function r(){t(1,l=!0)}function i(c){l=c,t(1,l)}return n.$$set=c=>{"shortcut"in c&&t(0,s=c.shortcut)},[s,l,o,r,i]}class Xs extends Q{constructor(e){super(),X(this,e,Zs,Fs,Y,{shortcut:0})}}function Pt(n,e,t){const s=n.slice();return s[3]=e[t],s}function Kt(n){let e,t;return e=new Xs({props:{shortcut:n[3]}}),{c(){K(e.$$.fragment)},m(s,l){R(e,s,l),t=!0},p:q,i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function Qs(n){let e,t,s=ee.ALL,l=[];for(let r=0;r<s.length;r+=1)l[r]=Kt(Pt(n,s,r));const o=r=>w(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=Ke()},m(r,i){for(let c=0;c<l.length;c+=1)l[c].m(r,i);v(r,e,i),t=!0},p(r,i){if(i&0){s=ee.ALL;let c;for(c=0;c<s.length;c+=1){const u=Pt(r,s,c);l[c]?(l[c].p(u,i),g(l[c],1)):(l[c]=Kt(u),l[c].c(),g(l[c],1),l[c].m(e.parentNode,e))}for(ie(),c=s.length;c<l.length;c+=1)o(c);ce()}},i(r){if(!t){for(let i=0;i<s.length;i+=1)g(l[i]);t=!0}},o(r){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)w(l[i]);t=!1},d(r){Ce(l,r),r&&b(e)}}}function Js(n){let e,t,s,l,o,r,i;function c(f){n[1](f)}let u={title:"Keyboard Shortcuts",$$slots:{default:[Qs]},$$scope:{ctx:n}};return n[0]!==void 0&&(u.open=n[0]),e=new pt({props:u}),fe.push(()=>He(e,"open",c)),{c(){K(e.$$.fragment),s=N(),l=T("div"),l.innerHTML='<svg viewBox="0 0 21 21" class="svelte-1abdqjg"><path d="M1 5h3v3h-3zm4 0h3v3h-3zm4 0h3v3h-3zm4 0h3v3h-3zm4 0h3v3h-3z"></path><path d="M1 9h5v3h-5zm6 0h3v3h-3zm4 0h3v3h-3zm4 0h5v3h-5z"></path><path d="M4 13h13v3h-13z"></path></svg>',h(l,"class","svelte-1abdqjg")},m(f,a){R(e,f,a),v(f,s,a),v(f,l,a),o=!0,r||(i=B(l,"click",n[2]),r=!0)},p(f,[a]){const m={};a&64&&(m.$$scope={dirty:a,ctx:f}),!t&&a&1&&(t=!0,m.open=f[0],De(()=>t=!1)),e.$set(m)},i(f){o||(g(e.$$.fragment,f),o=!0)},o(f){w(e.$$.fragment,f),o=!1},d(f){C(e,f),f&&b(s),f&&b(l),r=!1,i()}}}function en(n,e,t){let s=!1;function l(r){s=r,t(0,s)}return[s,l,()=>t(0,s=!0)]}class tn extends Q{constructor(e){super(),X(this,e,en,Js,Y,{})}}function Dt(n){let e,t;return e=new me({props:{key:n[1]}}),{c(){K(e.$$.fragment)},m(s,l){R(e,s,l),t=!0},p(s,l){const o={};l&2&&(o.key=s[1]),e.$set(o)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function sn(n){let e,t,s,l,o,r,i=n[1]!=""&&Dt(n);return{c(){e=T("input"),t=N(),s=T("div"),i&&i.c(),h(e,"type","text"),h(e,"class","svelte-1f9keg0"),h(s,"class","keys svelte-1f9keg0")},m(c,u){v(c,e,u),v(c,t,u),v(c,s,u),i&&i.m(s,null),l=!0,o||(r=B(e,"keydown",n[2]),o=!0)},p(c,u){c[1]!=""?i?(i.p(c,u),u&2&&g(i,1)):(i=Dt(c),i.c(),g(i,1),i.m(s,null)):i&&(ie(),w(i,1,1,()=>{i=null}),ce())},i(c){l||(g(i),l=!0)},o(c){w(i),l=!1},d(c){c&&b(e),c&&b(t),c&&b(s),i&&i.d(),o=!1,r()}}}function nn(n){let e,t,s,l,o,r,i;function c(f){n[3](f)}let u={title:"key testing",$$slots:{default:[sn]},$$scope:{ctx:n}};return n[0]!==void 0&&(u.open=n[0]),e=new pt({props:u}),fe.push(()=>He(e,"open",c)),{c(){K(e.$$.fragment),s=N(),l=T("button"),l.innerHTML='<svg viewBox="0 0 256 256" fill="none"><g fill="#5dd3e3"><ellipse cx="120.812" cy="54.745" rx="9.836" ry="9.846"></ellipse><ellipse cx="110.583" cy="172.111" rx="9.836" ry="9.846"></ellipse><ellipse cx="144.811" cy="35.446" rx="7.082" ry="7.089"></ellipse><ellipse cx="152.68" cy="185.895" rx="7.082" ry="7.089"></ellipse><ellipse cx="123.566" cy="89.797" rx="7.082" ry="7.089"></ellipse><ellipse cx="130.647" cy="136.271" rx="7.082" ry="7.089"></ellipse><ellipse cx="125.533" cy="5.12" rx="5.115" ry="5.12"></ellipse><ellipse cx="135.762" cy="167.385" rx="5.115" ry="5.12"></ellipse><ellipse cx="120.025" cy="197.317" rx="5.115" ry="5.12"></ellipse><ellipse cx="116.091" cy="152.418" rx="3.541" ry="3.545"></ellipse><ellipse cx="120.812" cy="119.335" rx="3.541" ry="3.545"></ellipse><ellipse cx="87.764" cy="194.166" rx="3.541" ry="3.545"></ellipse><ellipse cx="132.615" cy="109.095" rx="5.115" ry="5.12"></ellipse><path d="M183.611 213.12l-13.227-13.834c-13.377 8.271-20.065 4.726-32.655 6.696s-17.189 4.332-27.54 4.332l-33.048-1.364-12.043 15.151c-3.409 6.877 1.562 15.116 9.379 15.116h106.048c8.045 0 13.076-8.729 9.057-15.717l-5.97-10.38z"></path></g><path fill-rule="evenodd" d="M155.04 72.468v56.48l52.769 91.618c9.074 15.754-2.284 35.434-20.45 35.434H67.641c-18.166 0-29.524-19.68-20.45-35.434l52.769-91.618v-56.48H88.157V60.652h78.686v11.815H155.04zm-97.624 154l54.347-94.358V72.468h31.474v59.642l54.347 94.358c4.537 7.876-1.142 17.717-10.225 17.717H67.641c-9.083 0-14.762-9.841-10.225-17.717z" fill="#fff"></path></svg>',h(l,"class","svelte-1f9keg0")},m(f,a){R(e,f,a),v(f,s,a),v(f,l,a),o=!0,r||(i=B(l,"click",n[4]),r=!0)},p(f,[a]){const m={};a&34&&(m.$$scope={dirty:a,ctx:f}),!t&&a&1&&(t=!0,m.open=f[0],De(()=>t=!1)),e.$set(m)},i(f){o||(g(e.$$.fragment,f),o=!0)},o(f){w(e.$$.fragment,f),o=!1},d(f){C(e,f),f&&b(s),f&&b(l),r=!1,i()}}}function ln(n,e,t){let s=!1,l="";function o(c){c.preventDefault(),t(1,l=c.key),console.log(c)}function r(c){s=c,t(0,s)}const i=()=>t(0,s=!0);return n.$$.update=()=>{n.$$.dirty&1&&(s||t(1,l=""))},[s,l,o,r,i]}class on extends Q{constructor(e){super(),X(this,e,ln,nn,Y,{})}}function Ht(n,e,t){const s=n.slice();return s[1]=e[t],s}function Ot(n,e,t){const s=n.slice();return s[1]=e[t],s}function Bt(n){let e,t;return{c(){e=j("path"),h(e,"d",t=n[1].asSegment()),h(e,"class","svelte-18d9uoo")},m(s,l){v(s,e,l)},p(s,l){l&1&&t!==(t=s[1].asSegment())&&h(e,"d",t)},d(s){s&&b(e)}}}function jt(n){let e,t,s;return{c(){e=j("circle"),h(e,"cx",t=n[1].dest.x),h(e,"cy",s=n[1].dest.y),h(e,"r",3.5),h(e,"class","svelte-18d9uoo")},m(l,o){v(l,e,o)},p(l,o){o&1&&t!==(t=l[1].dest.x)&&h(e,"cx",t),o&1&&s!==(s=l[1].dest.y)&&h(e,"cy",s)},d(l){l&&b(e)}}}function rn(n){let e,t,s=[...n[0]],l=[];for(let i=0;i<s.length;i+=1)l[i]=Bt(Ot(n,s,i));let o=[...n[0]],r=[];for(let i=0;i<o.length;i+=1)r[i]=jt(Ht(n,o,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=N();for(let i=0;i<r.length;i+=1)r[i].c();t=Ke()},m(i,c){for(let u=0;u<l.length;u+=1)l[u].m(i,c);v(i,e,c);for(let u=0;u<r.length;u+=1)r[u].m(i,c);v(i,t,c)},p(i,[c]){if(c&1){s=[...i[0]];let u;for(u=0;u<s.length;u+=1){const f=Ot(i,s,u);l[u]?l[u].p(f,c):(l[u]=Bt(f),l[u].c(),l[u].m(e.parentNode,e))}for(;u<l.length;u+=1)l[u].d(1);l.length=s.length}if(c&1){o=[...i[0]];let u;for(u=0;u<o.length;u+=1){const f=Ht(i,o,u);r[u]?r[u].p(f,c):(r[u]=jt(f),r[u].c(),r[u].m(t.parentNode,t))}for(;u<r.length;u+=1)r[u].d(1);r.length=o.length}},i:q,o:q,d(i){Ce(l,i),i&&b(e),Ce(r,i),i&&b(t)}}}function cn(n,e,t){let{path:s}=e;return n.$$set=l=>{"path"in l&&t(0,s=l.path)},[s]}class un extends Q{constructor(e){super(),X(this,e,cn,rn,Y,{path:0})}}const{document:fn}=ds;function qt(n,e,t){const s=n.slice();return s[19]=e[t],s[21]=t,s}function Ze(n){const e=n.slice(),t=e[7].at(-1);return e[22]=t,e}function xt(n){let e,t;return{c(){e=j("path"),h(e,"d",t="M"+n[22].x+" "+n[22].y+"H"+n[5]+"V"+n[6]+"H"+n[22].x+"z"),h(e,"class","selection svelte-1q0u0k8"),h(e,"fill","#0D99FF20"),h(e,"stroke-width","1")},m(s,l){v(s,e,l)},p(s,l){l&224&&t!==(t="M"+s[22].x+" "+s[22].y+"H"+s[5]+"V"+s[6]+"H"+s[22].x+"z")&&h(e,"d",t)},d(s){s&&b(e)}}}function Ut(n){let e,t,s,l;return{c(){e=j("circle"),h(e,"cx",t=n[19].x),h(e,"cy",s=n[19].y),h(e,"r",l=n[21]===n[7].length-1?5:3.5),h(e,"class","point svelte-1q0u0k8"),we(e,"last",n[21]===n[7].length-1)},m(o,r){v(o,e,r)},p(o,r){r&128&&t!==(t=o[19].x)&&h(e,"cx",t),r&128&&s!==(s=o[19].y)&&h(e,"cy",s),r&128&&l!==(l=o[21]===o[7].length-1?5:3.5)&&h(e,"r",l),r&128&&we(e,"last",o[21]===o[7].length-1)},d(o){o&&b(e)}}}function an(n){let e;return{c(){e=te("Snap to grid")},m(t,s){v(t,e,s)},d(t){t&&b(e)}}}function hn(n){let e,t,s,l,o,r,i;function c(f){n[15](f)}let u={$$slots:{default:[an]},$$scope:{ctx:n}};return n[4]!==void 0&&(u.checked=n[4]),e=new Qt({props:u}),fe.push(()=>He(e,"checked",c)),{c(){K(e.$$.fragment),s=N(),l=T("input"),h(l,"type","text"),h(l,"inputmode","numeric")},m(f,a){R(e,f,a),v(f,s,a),v(f,l,a),bt(l,n[1]),o=!0,r||(i=B(l,"input",n[16]),r=!0)},p(f,a){const m={};a&8388608&&(m.$$scope={dirty:a,ctx:f}),!t&&a&16&&(t=!0,m.checked=f[4],De(()=>t=!1)),e.$set(m),a&2&&l.value!==f[1]&&bt(l,f[1])},i(f){o||(g(e.$$.fragment,f),o=!0)},o(f){w(e.$$.fragment,f),o=!1},d(f){C(e,f),f&&b(s),f&&b(l),r=!1,i()}}}function dn(n){let e,t,s,l,o,r,i,c,u,f,a,m,S,A=`url('${n[0]}/${n[9].name}.svg')`,k,J=`${n[1]}px`,V,x,se,D,U,L,E;t=new on({}),l=new Ks({}),r=new yt({});let d=n[8]&&xt(Ze(n)),M=n[7],I=[];for(let p=0;p<M.length;p+=1)I[p]=Ut(qt(n,M,p));return m=new un({props:{path:new As("M10,10 V20 L20,30 V40 L30,50 V60 L40,70 A1,1 0 1,0 10,10")}}),x=new yt({props:{$$slots:{default:[hn]},$$scope:{ctx:n}}}),D=new tn({}),{c(){e=N(),K(t.$$.fragment),s=N(),K(l.$$.fragment),o=N(),K(r.$$.fragment),i=N(),c=T("main"),u=j("svg"),d&&d.c(),f=Ke();for(let p=0;p<I.length;p+=1)I[p].c();a=j("circle"),K(m.$$.fragment),V=N(),K(x.$$.fragment),se=N(),K(D.$$.fragment),h(a,"cx",n[5]),h(a,"cy",n[6]),h(a,"r","3.5"),h(a,"class","point svelte-1q0u0k8"),h(u,"viewBox",S="0 0 "+n[3]+" "+n[2]),h(u,"fill","none"),h(u,"class","svelte-1q0u0k8"),ze(u,"--cursor-0",A),h(c,"class","svelte-1q0u0k8"),qe(()=>n[14].call(c)),ze(c,"--grid-size",J)},m(p,H){v(p,e,H),R(t,p,H),v(p,s,H),R(l,p,H),v(p,o,H),R(r,p,H),v(p,i,H),v(p,c,H),$(c,u),d&&d.m(u,null),$(u,f);for(let ye=0;ye<I.length;ye+=1)I[ye].m(u,null);$(u,a),R(m,u,null),k=us(c,n[14].bind(c)),v(p,V,H),R(x,p,H),v(p,se,H),R(D,p,H),U=!0,L||(E=[B(fn.body,"keydown",n[13]),B(u,"mousedown",n[11]),B(u,"mouseup",n[12]),B(c,"mousemove",n[10])],L=!0)},p(p,[H]){if(p[8]?d?d.p(Ze(p),H):(d=xt(Ze(p)),d.c(),d.m(u,f)):d&&(d.d(1),d=null),H&128){M=p[7];let ne;for(ne=0;ne<M.length;ne+=1){const mt=qt(p,M,ne);I[ne]?I[ne].p(mt,H):(I[ne]=Ut(mt),I[ne].c(),I[ne].m(u,a))}for(;ne<I.length;ne+=1)I[ne].d(1);I.length=M.length}(!U||H&32)&&h(a,"cx",p[5]),(!U||H&64)&&h(a,"cy",p[6]),(!U||H&12&&S!==(S="0 0 "+p[3]+" "+p[2]))&&h(u,"viewBox",S),H&513&&A!==(A=`url('${p[0]}/${p[9].name}.svg')`)&&ze(u,"--cursor-0",A),H&2&&J!==(J=`${p[1]}px`)&&ze(c,"--grid-size",J);const ye={};H&8388626&&(ye.$$scope={dirty:H,ctx:p}),x.$set(ye)},i(p){U||(g(t.$$.fragment,p),g(l.$$.fragment,p),g(r.$$.fragment,p),g(m.$$.fragment,p),g(x.$$.fragment,p),g(D.$$.fragment,p),U=!0)},o(p){w(t.$$.fragment,p),w(l.$$.fragment,p),w(r.$$.fragment,p),w(m.$$.fragment,p),w(x.$$.fragment,p),w(D.$$.fragment,p),U=!1},d(p){p&&b(e),C(t,p),p&&b(s),C(l,p),p&&b(o),C(r,p),p&&b(i),p&&b(c),d&&d.d(),Ce(I,p),C(m),k(),p&&b(V),C(x,p),p&&b(se),C(D,p),L=!1,_e(E)}}}function pn(n,e,t){let s,l;Wt(n,ot,L=>t(9,l=L));let{cursorDir:o}=e,r=0,i=0,c=!0,u=50,f=0,a=0,m=[];const S=[new ee({default_combo:"v",combo:"m",description:"Switch to Move mode",callback:()=>Ee.transition("move")}),new ee({default_combo:"p",description:"Switch to Draw mode",callback:()=>Ee.transition("draw")}),new ee({default_combo:"ctrl+z",description:"Undo",callback:()=>{m.pop(),t(7,m)}}),new ee({default_combo:"ctrl+=",description:"Zoom in",callback:L=>{L.preventDefault(),console.log("zoom in"),t(1,u+=10)}}),new ee({default_combo:"ctrl+-",description:"Zoom out",callback:L=>{L.preventDefault(),console.log("zoom out"),t(1,u-=10)}})];function A(L){l.onMouseMove(L);const{clientX:E,clientY:d}=L,{left:M,top:I}=L.currentTarget.getBoundingClientRect();c?(t(5,f=$t(E,s)-M),t(6,a=$t(d,s)-I)):(t(5,f=E-M),t(6,a=d-I))}let k=!1;function J(L){l.onMouseDown(L),m.push(new ue(f,a)),t(7,m),t(8,k=!0)}function V(L){l.onMouseUp(L),t(8,k=!1)}function x(L){var d;console.log(L);const E=document.activeElement;if(E instanceof HTMLInputElement&&E.dataset.blockShortcuts!=="false"||((d=E==null?void 0:E.dataset)==null?void 0:d.blockShortcuts)==="true"){L.currentTarget===document.activeElement&&l.onKeyPress(L);return}l.onKeyPress(L);for(const M of S)M.try(L)}function se(){i=this.clientWidth,r=this.clientHeight,t(3,i),t(2,r)}function D(L){c=L,t(4,c)}function U(){u=this.value,t(1,u)}return n.$$set=L=>{"cursorDir"in L&&t(0,o=L.cursorDir)},n.$$.update=()=>{n.$$.dirty&2&&(s=u/4)},[o,u,r,i,c,f,a,m,k,l,A,J,V,x,se,D,U]}class mn extends Q{constructor(e){super(),X(this,e,pn,dn,Y,{cursorDir:0})}}new mn({target:document.body,props:{cursorDir:"https://raw.githubusercontent.com/MikhaD/svg-editor/main/public/cursor/svg"}});
