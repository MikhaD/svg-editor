var xt=Object.defineProperty;var Gt=(s,e,t)=>e in s?xt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var z=(s,e,t)=>(Gt(s,typeof e!="symbol"?e+"":e,t),t),Fe=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var S=(s,e,t)=>(Fe(s,e,"read from private field"),t?t.call(s):e.get(s)),F=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},B=(s,e,t,n)=>(Fe(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),ke=(s,e,t,n)=>({set _(r){B(s,e,r,t)},get _(){return S(s,e,n)}}),at=(s,e,t)=>(Fe(s,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();function q(){}function Vt(s,e){for(const t in e)s[t]=e[t];return s}function Dt(s){return s()}function ht(){return Object.create(null)}function pe(s){s.forEach(Dt)}function Rt(s){return typeof s=="function"}function x(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function Wt(s){return Object.keys(s).length===0}function Ft(s,...e){if(s==null)return q;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Bt(s,e,t){s.$$.on_destroy.push(Ft(e,t))}function tt(s,e,t,n){if(s){const r=Ht(s,e,t,n);return s[0](r)}}function Ht(s,e,t,n){return s[1]&&n?Vt(t.ctx.slice(),s[1](n(e))):t.ctx}function st(s,e,t,n){if(s[2]&&n){const r=s[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const l=[],o=Math.max(e.dirty.length,r.length);for(let i=0;i<o;i+=1)l[i]=e.dirty[i]|r[i];return l}return e.dirty|r}return e.dirty}function nt(s,e,t,n,r,l){if(r){const o=Ht(e,t,n,l);s.p(o,r)}}function rt(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function g(s,e){s.appendChild(e)}function v(s,e,t){s.insertBefore(e,t||null)}function $(s){s.parentNode&&s.parentNode.removeChild(s)}function lt(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function T(s){return document.createElement(s)}function H(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function X(s){return document.createTextNode(s)}function N(){return X(" ")}function We(){return X("")}function D(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function Xt(s){return function(e){e.target===this&&s.call(this,e)}}function h(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function Zt(s){return Array.from(s.childNodes)}function Me(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function pt(s,e){s.value=e??""}function ve(s,e,t,n){t===null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}let Oe;function Qt(){if(Oe===void 0){Oe=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Oe=!0}}return Oe}function Jt(s,e){getComputedStyle(s).position==="static"&&(s.style.position="relative");const n=T("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=Qt();let l;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=D(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{l=D(n.contentWindow,"resize",e)}),g(s,n),()=>{(r||l&&n.contentWindow)&&l(),$(n)}}function me(s,e,t){s.classList[t?"add":"remove"](e)}let ot;function Se(s){ot=s}const $e=[],ie=[],Ke=[],Je=[],es=Promise.resolve();let et=!1;function ts(){et||(et=!0,es.then(qt))}function Ie(s){Ke.push(s)}function Ce(s){Je.push(s)}const Xe=new Set;let ge=0;function qt(){if(ge!==0)return;const s=ot;do{try{for(;ge<$e.length;){const e=$e[ge];ge++,Se(e),ss(e.$$)}}catch(e){throw $e.length=0,ge=0,e}for(Se(null),$e.length=0,ge=0;ie.length;)ie.pop()();for(let e=0;e<Ke.length;e+=1){const t=Ke[e];Xe.has(t)||(Xe.add(t),t())}Ke.length=0}while($e.length);for(;Je.length;)Je.pop()();et=!1,Xe.clear(),Se(s)}function ss(s){if(s.fragment!==null){s.update(),pe(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Ie)}}const Ae=new Set;let de;function le(){de={r:0,c:[],p:de}}function oe(){de.r||pe(de.c),de=de.p}function _(s,e){s&&s.i&&(Ae.delete(s),s.i(e))}function b(s,e,t,n){if(s&&s.o){if(Ae.has(s))return;Ae.add(s),de.c.push(()=>{Ae.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}const ns=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ne(s,e,t){const n=s.$$.props[e];n!==void 0&&(s.$$.bound[n]=t,t(s.$$.ctx[n]))}function I(s){s&&s.c()}function O(s,e,t,n){const{fragment:r,after_update:l}=s.$$;r&&r.m(e,t),n||Ie(()=>{const o=s.$$.on_mount.map(Dt).filter(Rt);s.$$.on_destroy?s.$$.on_destroy.push(...o):pe(o),s.$$.on_mount=[]}),l.forEach(Ie)}function K(s,e){const t=s.$$;t.fragment!==null&&(pe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function rs(s,e){s.$$.dirty[0]===-1&&($e.push(s),ts(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function Z(s,e,t,n,r,l,o,i=[-1]){const u=ot;Se(s);const f=s.$$={fragment:null,ctx:[],props:l,update:q,not_equal:r,bound:ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ht(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};o&&o(f.root);let c=!1;if(f.ctx=t?t(s,e.props||{},(a,m,...M)=>{const L=M.length?M[0]:m;return f.ctx&&r(f.ctx[a],f.ctx[a]=L)&&(!f.skip_bound&&f.bound[a]&&f.bound[a](L),c&&rs(s,a)),m}):[],f.update(),c=!0,pe(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const a=Zt(e.target);f.fragment&&f.fragment.l(a),a.forEach($)}else f.fragment&&f.fragment.c();e.intro&&_(s.$$.fragment),O(s,e.target,e.anchor,e.customElement),qt()}Se(u)}class Q{$destroy(){K(this,1),this.$destroy=q}$on(e,t){if(!Rt(t))return q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Wt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const be=[];function ls(s,e=q){let t;const n=new Set;function r(i){if(x(s,i)&&(s=i,t)){const u=!be.length;for(const f of n)f[1](),be.push(f,s);if(u){for(let f=0;f<be.length;f+=2)be[f][0](be[f+1]);be.length=0}}}function l(i){r(i(s))}function o(i,u=q){const f=[i,u];return n.add(f),n.size===1&&(t=e(r)||q),i(s),()=>{n.delete(f),n.size===0&&(t(),t=null)}}return{set:r,update:l,subscribe:o}}function os(s){return s.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}function dt(s,e=1){return Math.round(s/e)*e}function mt(s,e=/\s/){return s.replace(new RegExp(`^${e.source}+|${e.source}+$`,"g"),"")}var xe;class it{static next(){return`${Date.now().toString(36)}-${(++ke(this,xe)._).toString(36)}`}}xe=new WeakMap,F(it,xe,0);class is{constructor(e,t=null){z(this,"data");z(this,"next");z(this,"prev");this.data=e,this.prev=t,this.next=null}}var W,Y,ce;class us{constructor(e){F(this,W,void 0);F(this,Y,void 0);F(this,ce,void 0);if(B(this,W,null),B(this,Y,null),B(this,ce,0),e)for(const t of e)this.push(t)}push(e){const t=new is(e,S(this,Y));S(this,Y)&&(S(this,Y).next=t),B(this,Y,t),S(this,W)||B(this,W,t),++ke(this,ce)._}pop(){if(!S(this,Y))return null;const e=S(this,Y).data;return B(this,Y,S(this,Y).prev),S(this,Y)?S(this,Y).next=null:B(this,W,null),--ke(this,ce)._,e}shift(){if(!S(this,W))return null;const e=S(this,W).data;return B(this,W,S(this,W).next),S(this,W)?S(this,W).prev=null:B(this,Y,null),--ke(this,ce)._,e}peak(){var e;return((e=S(this,Y))==null?void 0:e.data)??null}get length(){return S(this,ce)}[Symbol.iterator](){let e=S(this,W);return{next:()=>{if(e){const t=e.data;return e=e.next,{value:t,done:!1}}else return{done:!0}}}}}W=new WeakMap,Y=new WeakMap,ce=new WeakMap;function Ze(s){if(!isNaN(s)&&typeof s!="number")throw new TypeError("Invalid number");return s}function _t(s){if(typeof s!="string")throw new TypeError("Invalid string");return s}var fe;const ue=class{constructor(e,t,n,r){F(this,fe,void 0);z(this,"ctrl");z(this,"shift");z(this,"alt");arguments.length===1?this.parse(e):(B(this,fe,ue.normalizeKey(e,!0)),this.ctrl=t??!1,this.shift=n??!1,this.alt=r??!1)}get key(){return S(this,fe)}parse(e){let t=null;this.alt=!1,this.ctrl=!1,this.shift=!1;const n=e.trim().toLowerCase().split(/\s*\+\s*/);for(const r of n)switch(r){case"ctrl":this.ctrl=!0;break;case"shift":this.shift=!0;break;case"alt":this.alt=!0;break;default:t=r;break}B(this,fe,this.shift&&t===""?"+":ue.normalizeKey(t,!0))}equals(e){return this.toString()==e.toString()}matches(e){return this.key==ue.normalizeKey(e.key)&&this.ctrl==e.ctrlKey&&this.shift==e.shiftKey&&this.alt==e.altKey}copy(){const e=new ue(null,this.ctrl,this.shift,this.alt);return B(e,fe,S(this,fe)),e}static normalizeKey(e,t=!1){return t&&!ue.VALID_KEYS.has(e==null?void 0:e.toLowerCase())?"":ue.IRREGULAR_KEYS[e.toLowerCase()]??e.toLowerCase()}toString(){return`${this.ctrl?"Ctrl+":""}${this.shift?"Shift+":""}${this.alt?"Alt+":""}${os(this.key)}`}};let ne=ue;fe=new WeakMap,z(ne,"VALID_KEYS",new Set([..."0123456789 abcdefghijklmnopqrstuvwxyz_+-=`~@#$%^&*()[]{}<>/\\|;:\"',.?!","escape","enter","os","meta","tab","arrowup","arrowright","arrowdown","arrowleft","backspace","delete","end","home","pageup","pagedown"])),z(ne,"IRREGULAR_KEYS",{" ":"space",meta:"cmd",command:"cmd",control:"ctrl",os:"âŠž",escape:"esc",delete:"del",arrowup:"â‡§",arrowright:"â‡¨",arrowdown:"â‡©",arrowleft:"â‡¦"});var V;class cs{constructor(){F(this,V,void 0);B(this,V,new Map)}set(e){const t=e.toString();return S(this,V).has(t)?S(this,V).get(t).push(e):S(this,V).set(t,[e]),this}delete(e){const t=e.toString();if(S(this,V).has(t)){const n=S(this,V).get(t).indexOf(e);if(n>=0)return S(this,V).get(t).length===1?(S(this,V).delete(t),!0):(S(this,V).get(t).splice(n,1),!0)}return!1}hasCombo(e){const t=S(this,V).get(e.toString());return t?t.length:0}has(e){const t=e.toString();return S(this,V).has(t)?S(this,V).get(t).includes(e):!1}}V=new WeakMap;var ae;const we=class{constructor(e){z(this,"id");z(this,"description");F(this,ae,void 0);z(this,"default_combo");z(this,"callback");this.id=it.next(),B(this,ae,new ne(e.combo??e.default_combo)),this.default_combo=new ne(e.default_combo),this.description=e.description,this.callback=e.callback,we.ALL.push(this),we.SHORTCUTS.set(this)}get combo(){return S(this,ae)}set combo(e){we.SHORTCUTS.delete(this),B(this,ae,e),we.SHORTCUTS.set(this)}reset(){this.combo=this.default_combo}try(e){return S(this,ae).matches(e)?(this.callback(e),!0):!1}toString(){return S(this,ae).toString()}};let te=we;ae=new WeakMap,z(te,"SHORTCUTS",new cs),z(te,"ALL",[]);const ut=ls();class fs{constructor(e="move"){z(this,"state");z(this,"stateName");z(this,"states");this.states={move:new as,draw:new hs},this.transition(e)}transition(e){if(this.state){if(this.state.name===e)return;this.state.onStateExit()}this.stateName=e,this.state=this.states[e],ut.set(this.state),this.state.onStateEnter()}}class Ut{constructor(e){z(this,"name");z(this,"icon");z(this,"shortcuts",[]);this.name=e}noop(){}}class as extends Ut{constructor(){super("move"),this.icon="M82.816 238.634l52.651-79.545 90.268-24.504L37.917 21.049l44.9 217.585zm107.122-109.07L58.425 50.062l31.403 152.206 36.736-55.495 63.374-17.209z"}onStateEnter(){}onStateExit(){}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onKeyPress(e){}}class hs extends Ut{constructor(){super("draw"),this.icon="M188.843 238.62l50.289-50.275-36.579-36.58c2.375-7.495 3.669-15.488 3.669-23.765 0-36.409-24.86-66.987-58.524-75.719L14.222 14.222l37.163 129.65c7.353 35.584 38.855 62.35 76.615 62.35 8.562 0 16.811-1.379 24.519-3.925l36.324 36.323zM144.114 66.048L48.981 38.926l69.817 69.817a21.24 21.24 0 0 1 9.202-2.076c11.776 0 21.333 9.557 21.333 21.333s-9.557 21.333-21.333 21.333-21.333-9.557-21.333-21.333a21.24 21.24 0 0 1 2.076-9.202L39.012 49.067l26.311 91.932C71.324 170.112 97.124 192 128 192c7.396.043 13.397-.967 20.068-3.2l8.32-2.745 6.186 6.187 26.283 26.268 30.151-30.165-26.524-26.539-6.116-6.115 2.631-8.249c2.105-6.471 3.044-12.288 3.001-19.442 0-29.767-20.309-54.812-47.886-61.952z",this.shortcuts=[new te({default_combo:"Escape",description:"Cancel drawing",callback:()=>ye.transition("move")})]}onStateEnter(){}onStateExit(){}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onKeyPress(e){for(let t of this.shortcuts)t.try(e)}}const ye=new fs("move");function ps(s){let e,t;const n=s[1].default,r=tt(n,s,s[0],null);return{c(){e=T("aside"),r&&r.c(),h(e,"class","svelte-1pzlsaf")},m(l,o){v(l,e,o),r&&r.m(e,null),t=!0},p(l,[o]){r&&r.p&&(!t||o&1)&&nt(r,n,l,l[0],t?st(n,l[0],o,null):rt(l[0]),null)},i(l){t||(_(r,l),t=!0)},o(l){b(r,l),t=!1},d(l){l&&$(e),r&&r.d(l)}}}function ds(s,e,t){let{$$slots:n={},$$scope:r}=e;return s.$$set=l=>{"$$scope"in l&&t(0,r=l.$$scope)},[r,n]}class gt extends Q{constructor(e){super(),Z(this,e,ds,ps,x,{})}}function ms(s){let e,t,n,r,l,o,i;const u=s[3].default,f=tt(u,s,s[2],null);return{c(){e=T("span"),t=T("input"),n=N(),r=T("label"),f&&f.c(),h(t,"type","checkbox"),h(t,"id",s[1]),h(t,"class","svelte-1mkzoh8"),h(r,"for",s[1]),h(e,"class","svelte-1mkzoh8")},m(c,a){v(c,e,a),g(e,t),t.checked=s[0],g(e,n),g(e,r),f&&f.m(r,null),l=!0,o||(i=D(t,"change",s[4]),o=!0)},p(c,[a]){a&1&&(t.checked=c[0]),f&&f.p&&(!l||a&4)&&nt(f,u,c,c[2],l?st(u,c[2],a,null):rt(c[2]),null)},i(c){l||(_(f,c),l=!0)},o(c){b(f,c),l=!1},d(c){c&&$(e),f&&f.d(c),o=!1,i()}}}function _s(s,e,t){let{$$slots:n={},$$scope:r}=e,{checked:l=!1}=e;const o=it.next();function i(){l=this.checked,t(0,l)}return s.$$set=u=>{"checked"in u&&t(0,l=u.checked),"$$scope"in u&&t(2,r=u.$$scope)},[l,o,r,n,i]}class jt extends Q{constructor(e){super(),Z(this,e,_s,ms,x,{checked:0})}}class se extends Error{constructor(e){super(e)}}var ze,Te,Le;const Ge=class{constructor(e,t,n=!1){F(this,ze,void 0);F(this,Te,void 0);F(this,Le,void 0);z(this,"selected");if(isNaN(e)||isNaN(t))throw new se("Invalid point");B(this,ze,e),B(this,Te,t),B(this,Le,n),this.selected=!1}get x(){return S(this,ze)}get y(){return S(this,Te)}get control(){return S(this,Le)}relativeTo(e){return new Ge(this.x-e.x,this.y-e.y)}compact(){return`${this.x}${this.y<0?"":","}${this.y}`}toString(){return`${this.x},${this.y}`}};let U=Ge;ze=new WeakMap,Te=new WeakMap,Le=new WeakMap,z(U,"ORIGIN",new Ge(0,0));class re{constructor(e,t){z(this,"dest");z(this,"relative");this.dest=e,this.relative=t}formatOutput(e){return this.relative?e.toLowerCase():e.toUpperCase()}}class De extends re{constructor(e,t){super(e,t)}relativeTo(e){return new De(this.dest.relativeTo(e.dest),!0)}toString(){return super.formatOutput(`M${this.dest}`)}static from(e,t){return new De(new U(+e.pop(),+e.pop()),t)}}class Re extends re{constructor(e,t){if(e.y!==0)throw new se("Invalid point");super(e,t)}relativeTo(e){return new Re(this.dest.relativeTo(e.dest),!0)}valid(){return this.dest.y===0}toString(){return super.formatOutput(`H${this.dest.x}`)}static from(e,t){return new Re(new U(+e.pop(),0),t)}}class Be extends re{constructor(e,t){if(e.x!==0)throw new se("Invalid point");super(e,t)}relativeTo(e){return new Be(this.dest.relativeTo(e.dest),!0)}toString(){return super.formatOutput(`V${this.dest.y}`)}static from(e,t){return new Be(new U(0,+e.pop()),t)}}class He extends re{constructor(e,t){super(e,t)}relativeTo(e){return new He(this.dest.relativeTo(e.dest),!0)}toString(){return super.formatOutput(`L${this.dest}`)}static from(e,t){return new He(new U(+e.pop(),+e.pop()),t)}}class qe extends re{constructor(t,n,r){if(!t.control)throw new se("Invalid control point");super(n,r);z(this,"ctrl");this.ctrl=t}relativeTo(t){return new qe(this.dest.relativeTo(t.dest),this.ctrl.relativeTo(t.dest),!0)}toString(){return super.formatOutput(`Q${this.ctrl} ${this.dest}`)}static from(t,n){return new qe(new U(+t.pop(),+t.pop(),!0),new U(+t.pop(),+t.pop()),n)}}class Ue extends re{constructor(e,t){super(e,t)}relativeTo(e){return new Ue(this.dest.relativeTo(e.dest),!0)}toString(){return super.formatOutput(`T${this.dest}`)}static from(e,t){return new Ue(new U(+e.pop(),+e.pop()),t)}}class je extends re{constructor(t,n,r,l){if(!t.control||!n.control)throw new se("Invalid control points");super(r,l);z(this,"ctrl1");z(this,"ctrl2");this.ctrl1=t,this.ctrl2=n}relativeTo(t){return new je(this.dest.relativeTo(t.dest),this.ctrl1.relativeTo(t.dest),this.ctrl2.relativeTo(t.dest),!0)}toString(){return super.formatOutput(`C${this.ctrl1} ${this.ctrl2} ${this.dest}`)}static from(t,n){return new je(new U(+t.pop(),+t.pop(),!0),new U(+t.pop(),+t.pop(),!0),new U(+t.pop(),+t.pop()),n)}}class Pe extends re{constructor(t,n,r){if(!t.control)throw new se("Invalid control point");super(n,r);z(this,"ctrl");this.ctrl=t}relativeTo(t){return new Pe(this.dest.relativeTo(t.dest),this.ctrl.relativeTo(t.dest),!0)}toString(){return super.formatOutput(`S${this.ctrl} ${this.dest}`)}static from(t,n){return new Pe(new U(+t.pop(),+t.pop(),!0),new U(+t.pop(),+t.pop()),n)}}class Ye extends re{constructor(t,n,r,l,o,i,u){if(isNaN(n)||isNaN(r)||isNaN(l))throw new se("Invalid arc parameters");super(t,u);z(this,"rx");z(this,"ry");z(this,"rotation");z(this,"large");z(this,"sweep");this.rx=Math.abs(n),this.ry=Math.abs(r),this.rotation=l,this.large=o,this.sweep=i}relativeTo(t){return new Ye(this.dest.relativeTo(t.dest),this.rx,this.ry,this.rotation,this.large,this.sweep,!0)}toString(){return super.formatOutput(`A${this.rx},${this.ry} ${this.rotation} ${+this.large},${+this.sweep} ${this.dest}`)}static from(t,n){const r=Ze(+t.pop()),l=Ze(+t.pop()),o=Ze(+t.pop());let i,u,f,c=_t(t.pop());if(c.length>1?(i=+c[0],u=+c[1],c.length>2?f=+c.slice(2):f=+t.pop()):(i=+c,c=_t(t.pop()),u=+c[0],c.length>1?f=+c.slice(1):f=+t.pop()),i!==0&&i!==1)throw new se("Invalid arc large flag");if(u!==0&&u!==1)throw new se("Invalid arc sweep flag");let a=+t.pop();return new Ye(new U(f,a),r,l,o,Boolean(i),Boolean(u),n)}}class gs extends re{constructor(e,t){super(e.dest,t)}relativeTo(e){return this}toString(){return super.formatOutput("z")}}var Ee,Ve,Pt;class bs{constructor(e){F(this,Ve);z(this,"segments");F(this,Ee,void 0);this.segments=[],at(this,Ve,Pt).call(this,e)}toString(e=" "){return this.segments.join(e)}}Ee=new WeakMap,Ve=new WeakSet,Pt=function(e){const t=new us(e.match(/[a-z]|-?\d*\.?\d+/gi).reverse());if(t.length>0&&t.peak().toLowerCase()!=="m")throw new se("Missing initial moveto");let n;for(;t.length>0;){isNaN(+t.peak())&&(n=t.pop());const r=n.toLowerCase()===n;switch(n.toLowerCase()){case"m":this.segments.push(De.from(t,r)),B(this,Ee,this.segments.at(-1));break;case"h":this.segments.push(Re.from(t,r));break;case"v":this.segments.push(Be.from(t,r));break;case"l":this.segments.push(He.from(t,r));break;case"q":this.segments.push(qe.from(t,r));break;case"t":this.segments.push(Ue.from(t,r));break;case"c":this.segments.push(je.from(t,r));break;case"s":this.segments.push(Pe.from(t,r));break;case"a":this.segments.push(Ye.from(t,r));break;case"z":this.segments.push(new gs(S(this,Ee),r));break;default:throw new se(`Invalid path command: ${n}`)}}};function $s(s){let e,t,n,r,l,o,i,u,f,c;return{c(){e=T("button"),t=H("svg"),n=H("mask"),r=H("rect"),l=H("path"),o=H("g"),i=H("path"),u=H("path"),h(r,"x","0"),h(r,"y","0"),h(r,"width","100%"),h(r,"height","100%"),h(r,"fill","#fff"),h(l,"fill","#000"),h(l,"id","cutout-path"),h(l,"d","M0 -11l70 51c7 5 7 15 0 20l-70 51z"),h(n,"id","cutout"),h(i,"class","cog svelte-up99lr"),h(i,"fill-rule","evenodd"),h(i,"d","M53.706 0h-7.41l-2.085 5.537-5.878 1.17-4.044-4.32-6.845 2.835.192 5.914-4.983 3.33-5.39-2.443-5.24 5.24 2.44 5.4-3.33 4.983-5.913-.195L2.4 34.287l4.318 4.046-1.17 5.878-5.538 2.083v7.41l5.537 2.085 1.17 5.878L2.4 65.713l2.835 6.845 5.913-.195 3.33 4.983-2.44 5.4 5.24 5.24 5.39-2.443 4.983 3.33-.192 5.914 6.845 2.835 4.044-4.32 5.878 1.17L46.297 100h7.41l2.083-5.538 5.878-1.17 4.046 4.318 6.845-2.835-.195-5.913 4.983-3.33 5.4 2.44 5.24-5.24-2.443-5.39 3.33-4.983 5.914.192 2.835-6.845-4.32-4.044 1.17-5.878L100 53.703v-7.41l-5.538-2.083-1.17-5.878 4.32-4.044-2.835-6.845-5.914.192-3.33-4.983 2.443-5.39-5.24-5.24-5.4 2.44-4.983-3.33.195-5.913-6.845-2.835-4.046 4.318-5.878-1.17L53.706 0zM50 83.213c18.343 0 33.214-14.87 33.214-33.213S68.344 16.787 50 16.787 16.787 31.657 16.787 50 31.657 83.213 50 83.213z"),h(o,"mask","url(#cutout)"),h(u,"class","m svelte-up99lr"),h(u,"d","M7.5 24v52h7v-39l13 39l13 -39v39h7v-52h-10l-10 32l-10 -32z"),h(t,"viewBox","0 0 100 100"),h(t,"class","svelte-up99lr"),h(e,"class","svelte-up99lr")},m(a,m){v(a,e,m),g(e,t),g(t,n),g(n,r),g(n,l),g(t,o),g(o,i),g(t,u),f||(c=D(i,"animationend",s[0]),f=!0)},p:q,i:q,o:q,d(a){a&&$(e),f=!1,c()}}}function vs(s){return[()=>console.log("animation ended")]}class ws extends Q{constructor(e){super(),Z(this,e,vs,$s,x,{})}}function ys(s){let e,t,n,r,l,o;return{c(){e=T("button"),t=H("svg"),n=H("path"),h(n,"fill-rule","evenodd"),h(n,"d",r=s[0].icon),h(n,"class","svelte-vab1rb"),h(t,"viewBox","0 0 256 256"),h(t,"height","24"),h(t,"fill","none"),h(e,"class","toolbar-button svelte-vab1rb"),me(e,"active",s[1])},m(i,u){v(i,e,u),g(e,t),g(t,n),l||(o=D(e,"mousedown",s[2]),l=!0)},p(i,[u]){u&1&&r!==(r=i[0].icon)&&h(n,"d",r),u&2&&me(e,"active",i[1])},i:q,o:q,d(i){i&&$(e),l=!1,o()}}}function ks(s,e,t){let n,r;Bt(s,ut,i=>t(3,r=i));let{thisState:l}=e;function o(){ye.transition(l.name)}return s.$$set=i=>{"thisState"in i&&t(0,l=i.thisState)},s.$$.update=()=>{s.$$.dirty&9&&t(1,n=l.name===r.name)},[l,n,o,r]}class Ss extends Q{constructor(e){super(),Z(this,e,ks,ys,x,{thisState:0})}}function bt(s,e,t){const n=s.slice();return n[0]=e[t],n}function $t(s){let e,t;return e=new Ss({props:{thisState:s[0]}}),{c(){I(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:q,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ms(s){let e,t,n,r;t=new ws({});let l=Object.values(ye.states),o=[];for(let u=0;u<l.length;u+=1)o[u]=$t(bt(s,l,u));const i=u=>b(o[u],1,1,()=>{o[u]=null});return{c(){e=T("div"),I(t.$$.fragment),n=N();for(let u=0;u<o.length;u+=1)o[u].c();h(e,"class","toolbar svelte-1ldks7c")},m(u,f){v(u,e,f),O(t,e,null),g(e,n);for(let c=0;c<o.length;c+=1)o[c].m(e,null);r=!0},p(u,[f]){if(f&0){l=Object.values(ye.states);let c;for(c=0;c<l.length;c+=1){const a=bt(u,l,c);o[c]?(o[c].p(a,f),_(o[c],1)):(o[c]=$t(a),o[c].c(),_(o[c],1),o[c].m(e,null))}for(le(),c=l.length;c<o.length;c+=1)i(c);oe()}},i(u){if(!r){_(t.$$.fragment,u);for(let f=0;f<l.length;f+=1)_(o[f]);r=!0}},o(u){b(t.$$.fragment,u),o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)b(o[f]);r=!1},d(u){u&&$(e),K(t),lt(o,u)}}}class zs extends Q{constructor(e){super(),Z(this,e,null,Ms,x,{})}}function Ts(s){let e,t;return{c(){e=T("span"),t=X(s[0]),h(e,"class","key svelte-1tlr9lt")},m(n,r){v(n,e,r),g(e,t)},p(n,[r]){r&1&&Me(t,n[0])},i:q,o:q,d(n){n&&$(e)}}}function Ls(s,e,t){let{key:n}=e;return s.$$set=r=>{"key"in r&&t(0,n=r.key)},[n]}class he extends Q{constructor(e){super(),Z(this,e,Ls,Ts,x,{key:0})}}function vt(s){let e,t;return e=new he({props:{key:"Ctrl"}}),{c(){I(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function wt(s){let e,t;return e=new he({props:{key:"Alt"}}),{c(){I(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function yt(s){let e,t;return e=new he({props:{key:"Shift"}}),{c(){I(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function kt(s){let e,t;return e=new he({props:{key:ne.IRREGULAR_KEYS[s[0].key]??s[0].key}}),{c(){I(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const l={};r&1&&(l.key=ne.IRREGULAR_KEYS[n[0].key]??n[0].key),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Es(s){let e,t,n,r,l,o=s[0].ctrl&&vt(),i=s[0].alt&&wt(),u=s[0].shift&&yt(),f=s[0].key&&kt(s);return{c(){e=T("div"),o&&o.c(),t=N(),i&&i.c(),n=N(),u&&u.c(),r=N(),f&&f.c(),h(e,"class","shortcut svelte-1hyh641")},m(c,a){v(c,e,a),o&&o.m(e,null),g(e,t),i&&i.m(e,null),g(e,n),u&&u.m(e,null),g(e,r),f&&f.m(e,null),l=!0},p(c,[a]){c[0].ctrl?o?a&1&&_(o,1):(o=vt(),o.c(),_(o,1),o.m(e,t)):o&&(le(),b(o,1,1,()=>{o=null}),oe()),c[0].alt?i?a&1&&_(i,1):(i=wt(),i.c(),_(i,1),i.m(e,n)):i&&(le(),b(i,1,1,()=>{i=null}),oe()),c[0].shift?u?a&1&&_(u,1):(u=yt(),u.c(),_(u,1),u.m(e,r)):u&&(le(),b(u,1,1,()=>{u=null}),oe()),c[0].key?f?(f.p(c,a),a&1&&_(f,1)):(f=kt(c),f.c(),_(f,1),f.m(e,null)):f&&(le(),b(f,1,1,()=>{f=null}),oe())},i(c){l||(_(o),_(i),_(u),_(f),l=!0)},o(c){b(o),b(i),b(u),b(f),l=!1},d(c){c&&$(e),o&&o.d(),i&&i.d(),u&&u.d(),f&&f.d()}}}function Cs(s,e,t){let{combo:n}=e;return s.$$set=r=>{"combo"in r&&t(0,n=r.combo)},[n]}class Yt extends Q{constructor(e){super(),Z(this,e,Cs,Es,x,{combo:0})}}function Ns(s){let e,t,n,r,l;return t=new he({props:{key:"Enter"}}),r=new he({props:{key:"Esc"}}),{c(){e=X("Shortcut contains "),I(t.$$.fragment),n=X(" and / or "),I(r.$$.fragment)},m(o,i){v(o,e,i),O(t,o,i),v(o,n,i),O(r,o,i),l=!0},p:q,i(o){l||(_(t.$$.fragment,o),_(r.$$.fragment,o),l=!0)},o(o){b(t.$$.fragment,o),b(r.$$.fragment,o),l=!1},d(o){o&&$(e),K(t,o),o&&$(n),K(r,o)}}}function St(s){let e,t,n=s[3]>1?"s have":" has",r,l;return{c(){e=X(s[3]),t=X(" existing command"),r=X(n),l=X(" this keybinding")},m(o,i){v(o,e,i),v(o,t,i),v(o,r,i),v(o,l,i)},p(o,i){i&8&&Me(e,o[3]),i&8&&n!==(n=o[3]>1?"s have":" has")&&Me(r,n)},d(o){o&&$(e),o&&$(t),o&&$(r),o&&$(l)}}}function Os(s){let e,t,n,r,l,o,i,u,f,c,a,m,M,L,k,J,R,j,G,A;r=new he({props:{key:"Enter"}});function P(d){s[8](d)}let E={$$slots:{default:[Ns]},$$scope:{ctx:s}};s[2]!==void 0&&(E.checked=s[2]),i=new jt({props:E}),ie.push(()=>Ne(i,"checked",P)),k=new Yt({props:{combo:s[1]}});let y=s[3]>0&&St(s);return{c(){e=T("div"),t=T("div"),n=X("Press the desired key combination, then press "),I(r.$$.fragment),l=N(),o=T("div"),I(i.$$.fragment),f=N(),c=T("form"),a=T("input"),M=N(),L=T("div"),I(k.$$.fragment),J=N(),R=T("div"),y&&y.c(),h(t,"class","svelte-e8n25g"),h(o,"class","freeze svelte-e8n25g"),a.value=m=mt(s[1].toString(),/\+/),h(a,"type","text"),a.autofocus=!0,h(a,"class","svelte-e8n25g"),me(a,"invalid",Ks),me(a,"failed-submit",s[4]),h(c,"method","dialog"),h(L,"class","display svelte-e8n25g"),h(R,"class","display clash svelte-e8n25g"),h(e,"class","set-shortcut svelte-e8n25g")},m(d,w){v(d,e,w),g(e,t),g(t,n),O(r,t,null),g(e,l),g(e,o),O(i,o,null),g(e,f),g(e,c),g(c,a),s[10](a),g(e,M),g(e,L),O(k,L,null),g(e,J),g(e,R),y&&y.m(R,null),j=!0,a.focus(),G||(A=[D(o,"click",s[9]),D(a,"animationend",s[11]),D(a,"keydown",s[5]),D(c,"submit",s[6])],G=!0)},p(d,[w]){const p={};w&4096&&(p.$$scope={dirty:w,ctx:d}),!u&&w&4&&(u=!0,p.checked=d[2],Ce(()=>u=!1)),i.$set(p),(!j||w&2&&m!==(m=mt(d[1].toString(),/\+/))&&a.value!==m)&&(a.value=m),(!j||w&16)&&me(a,"failed-submit",d[4]);const C={};w&2&&(C.combo=d[1]),k.$set(C),d[3]>0?y?y.p(d,w):(y=St(d),y.c(),y.m(R,null)):y&&(y.d(1),y=null)},i(d){j||(_(r.$$.fragment,d),_(i.$$.fragment,d),_(k.$$.fragment,d),j=!0)},o(d){b(r.$$.fragment,d),b(i.$$.fragment,d),b(k.$$.fragment,d),j=!1},d(d){d&&$(e),K(r),K(i),s[10](null),K(k),y&&y.d(),G=!1,pe(A)}}}let Ks=!1;function As(s,e,t){let{shortcut:n}=e,r,l=new ne,o=!1,i=0,u=!1;function f(k){if(o||k.key!=="Enter"&&k.key!=="Escape")k.preventDefault();else return;t(1,l=new ne(k.key,k.ctrlKey,k.shiftKey,k.altKey)),t(3,i=te.SHORTCUTS.hasCombo(l)-Number(n.combo.equals(l)))}function c(k){t(7,n.combo=l,n)}function a(k){o=k,t(2,o)}const m=()=>r.focus();function M(k){ie[k?"unshift":"push"](()=>{r=k,t(0,r)})}const L=()=>t(4,u=!1);return s.$$set=k=>{"shortcut"in k&&t(7,n=k.shortcut)},[r,l,o,i,u,f,c,n,a,m,M,L]}class Is extends Q{constructor(e){super(),Z(this,e,As,Os,x,{shortcut:7})}}function Mt(s){let e,t;return{c(){e=T("h2"),t=X(s[1]),h(e,"class","title svelte-jwoh95")},m(n,r){v(n,e,r),g(e,t)},p(n,r){r&2&&Me(t,n[1])},d(n){n&&$(e)}}}function Ds(s){let e,t,n,r,l,o,i,u,f,c=s[1]&&Mt(s);const a=s[4].default,m=tt(a,s,s[3],null);return{c(){e=T("dialog"),t=H("svg"),n=H("path"),r=N(),l=T("div"),c&&c.c(),o=N(),m&&m.c(),h(n,"d","M.35 .35L3.65 3.65M3.65 .35L.35 3.65"),h(t,"class","close svelte-jwoh95"),h(t,"viewBox","0 0 4 4"),h(l,"class","content svelte-jwoh95"),h(e,"class","modal svelte-jwoh95"),h(e,"data-block-shortcuts","true")},m(M,L){v(M,e,L),g(e,t),g(t,n),g(e,r),g(e,l),c&&c.m(l,null),g(l,o),m&&m.m(l,null),s[7](e),i=!0,u||(f=[D(t,"click",s[5]),D(e,"close",s[6]),D(e,"click",Xt(s[8]))],u=!0)},p(M,[L]){M[1]?c?c.p(M,L):(c=Mt(M),c.c(),c.m(l,o)):c&&(c.d(1),c=null),m&&m.p&&(!i||L&8)&&nt(m,a,M,M[3],i?st(a,M[3],L,null):rt(M[3]),null)},i(M){i||(_(m,M),i=!0)},o(M){b(m,M),i=!1},d(M){M&&$(e),c&&c.d(),m&&m.d(M),s[7](null),u=!1,pe(f)}}}function Rs(s,e,t){let{$$slots:n={},$$scope:r}=e,{open:l=!1}=e,{title:o=""}=e,i;const u=()=>t(0,l=!1),f=()=>t(0,l=!1);function c(m){ie[m?"unshift":"push"](()=>{i=m,t(2,i)})}const a=()=>t(0,l=!1);return s.$$set=m=>{"open"in m&&t(0,l=m.open),"title"in m&&t(1,o=m.title),"$$scope"in m&&t(3,r=m.$$scope)},s.$$.update=()=>{s.$$.dirty&5&&(l?i==null||i.showModal():i==null||i.close())},[l,o,i,r,n,u,f,c,a]}class ct extends Q{constructor(e){super(),Z(this,e,Rs,Ds,x,{open:0,title:1})}}function zt(s){let e,t,n;return t=new Yt({props:{combo:s[0].combo}}),{c(){e=T("span"),I(t.$$.fragment),h(e,"class","keys svelte-19hmwz")},m(r,l){v(r,e,l),O(t,e,null),n=!0},p(r,l){const o={};l&1&&(o.combo=r[0].combo),t.$set(o)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){b(t.$$.fragment,r),n=!1},d(r){r&&$(e),K(t)}}}function Tt(s){let e,t,n,r;return{c(){e=H("svg"),t=H("path"),h(t,"d","M5 12A12 12 0 1 1 5 20M5 12l0-4l3.3 2.2z"),h(e,"class","reset svelte-19hmwz"),h(e,"viewBox","0 0 32 32")},m(l,o){v(l,e,o),g(e,t),n||(r=D(e,"click",s[2]),n=!0)},p:q,d(l){l&&$(e),n=!1,r()}}}function Lt(s){let e=!s[0].default_combo.equals(s[0].combo),t,n=e&&Tt(s);return{c(){n&&n.c(),t=We()},m(r,l){n&&n.m(r,l),v(r,t,l)},p(r,l){l&1&&(e=!r[0].default_combo.equals(r[0].combo)),e?n?n.p(r,l):(n=Tt(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&$(t)}}}function Et(s){let e,t;return e=new Is({props:{shortcut:s[0]}}),{c(){I(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const l={};r&1&&(l.shortcut=n[0]),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Bs(s){let e,t,n=s[1]&&Et(s);return{c(){n&&n.c(),e=We()},m(r,l){n&&n.m(r,l),v(r,e,l),t=!0},p(r,l){r[1]?n?(n.p(r,l),l&2&&_(n,1)):(n=Et(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(le(),b(n,1,1,()=>{n=null}),oe())},i(r){t||(_(n),t=!0)},o(r){b(n),t=!1},d(r){n&&n.d(r),r&&$(e)}}}function Hs(s){let e,t,n=s[0].description+"",r,l,o=s[1],i,u,f=s[1],c,a,m,M,L,k,J,R,j,G,A=zt(s),P=Lt(s);function E(d){s[4](d)}let y={$$slots:{default:[Bs]},$$scope:{ctx:s}};return s[1]!==void 0&&(y.open=s[1]),L=new ct({props:y}),ie.push(()=>Ne(L,"open",E)),{c(){e=T("div"),t=T("span"),r=X(n),l=N(),A.c(),i=N(),u=T("span"),P.c(),c=N(),a=H("svg"),m=H("path"),M=N(),k=T("div"),I(L.$$.fragment),h(m,"d","M188.873 16l4.226.377c11.952 1.065 23.058 7.183 31.312 15.438s14.373 19.361 15.439 31.313l.376 4.225-147.55 147.55-82.949 31.596 31.596-82.949L188.873 16zm6.545 19.131L61.954 168.596l25.676 25.676L221.095 60.808c-1.418-5.678-4.759-11.392-9.522-16.155s-10.477-8.103-16.155-9.522zM71.298 203.617l-18.69-18.689-11.499 30.188 30.189-11.499z"),h(a,"class","edit svelte-19hmwz"),h(a,"viewBox","0 0 256 256"),h(u,"class","options svelte-19hmwz"),h(e,"class","shortcut svelte-19hmwz"),ve(k,"display","contents"),ve(k,"--modal-width","40vw")},m(d,w){v(d,e,w),g(e,t),g(t,r),g(e,l),A.m(e,null),g(e,i),g(e,u),P.m(u,null),g(u,c),g(u,a),g(a,m),v(d,M,w),v(d,k,w),O(L,k,null),R=!0,j||(G=D(a,"click",s[3]),j=!0)},p(d,[w]){(!R||w&1)&&n!==(n=d[0].description+"")&&Me(r,n),w&2&&x(o,o=d[1])?(le(),b(A,1,1,q),oe(),A=zt(d),A.c(),_(A,1),A.m(e,i)):A.p(d,w),w&2&&x(f,f=d[1])?(P.d(1),P=Lt(d),P.c(),P.m(u,c)):P.p(d,w);const p={};w&35&&(p.$$scope={dirty:w,ctx:d}),!J&&w&2&&(J=!0,p.open=d[1],Ce(()=>J=!1)),L.$set(p)},i(d){R||(_(A),_(L.$$.fragment,d),R=!0)},o(d){b(A),b(L.$$.fragment,d),R=!1},d(d){d&&$(e),A.d(d),P.d(d),d&&$(M),d&&L&&$(k),K(L,d),j=!1,G()}}}function qs(s,e,t){let{shortcut:n}=e,r=!1;function l(){n.reset(),t(0,n)}function o(){t(1,r=!0)}function i(u){r=u,t(1,r)}return s.$$set=u=>{"shortcut"in u&&t(0,n=u.shortcut)},[n,r,l,o,i]}class Us extends Q{constructor(e){super(),Z(this,e,qs,Hs,x,{shortcut:0})}}function Ct(s,e,t){const n=s.slice();return n[3]=e[t],n}function Nt(s){let e,t;return e=new Us({props:{shortcut:s[3]}}),{c(){I(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:q,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function js(s){let e,t,n=te.ALL,r=[];for(let o=0;o<n.length;o+=1)r[o]=Nt(Ct(s,n,o));const l=o=>b(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=We()},m(o,i){for(let u=0;u<r.length;u+=1)r[u].m(o,i);v(o,e,i),t=!0},p(o,i){if(i&0){n=te.ALL;let u;for(u=0;u<n.length;u+=1){const f=Ct(o,n,u);r[u]?(r[u].p(f,i),_(r[u],1)):(r[u]=Nt(f),r[u].c(),_(r[u],1),r[u].m(e.parentNode,e))}for(le(),u=n.length;u<r.length;u+=1)l(u);oe()}},i(o){if(!t){for(let i=0;i<n.length;i+=1)_(r[i]);t=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)b(r[i]);t=!1},d(o){lt(r,o),o&&$(e)}}}function Ps(s){let e,t,n,r,l,o,i;function u(c){s[1](c)}let f={title:"Keyboard Shortcuts",$$slots:{default:[js]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.open=s[0]),e=new ct({props:f}),ie.push(()=>Ne(e,"open",u)),{c(){I(e.$$.fragment),n=N(),r=T("div"),r.innerHTML='<svg viewBox="0 0 21 21" class="svelte-1abdqjg"><path d="M1 5h3v3h-3zm4 0h3v3h-3zm4 0h3v3h-3zm4 0h3v3h-3zm4 0h3v3h-3z"></path><path d="M1 9h5v3h-5zm6 0h3v3h-3zm4 0h3v3h-3zm4 0h5v3h-5z"></path><path d="M4 13h13v3h-13z"></path></svg>',h(r,"class","svelte-1abdqjg")},m(c,a){O(e,c,a),v(c,n,a),v(c,r,a),l=!0,o||(i=D(r,"click",s[2]),o=!0)},p(c,[a]){const m={};a&64&&(m.$$scope={dirty:a,ctx:c}),!t&&a&1&&(t=!0,m.open=c[0],Ce(()=>t=!1)),e.$set(m)},i(c){l||(_(e.$$.fragment,c),l=!0)},o(c){b(e.$$.fragment,c),l=!1},d(c){K(e,c),c&&$(n),c&&$(r),o=!1,i()}}}function Ys(s,e,t){let n=!1;function r(o){n=o,t(0,n)}return[n,r,()=>t(0,n=!0)]}class xs extends Q{constructor(e){super(),Z(this,e,Ys,Ps,x,{})}}function Ot(s){let e,t;return e=new he({props:{key:s[1]}}),{c(){I(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const l={};r&2&&(l.key=n[1]),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Gs(s){let e,t,n,r,l,o,i=s[1]!=""&&Ot(s);return{c(){e=T("input"),t=N(),n=T("div"),i&&i.c(),h(e,"type","text"),h(e,"class","svelte-1f9keg0"),h(n,"class","keys svelte-1f9keg0")},m(u,f){v(u,e,f),v(u,t,f),v(u,n,f),i&&i.m(n,null),r=!0,l||(o=D(e,"keydown",s[2]),l=!0)},p(u,f){u[1]!=""?i?(i.p(u,f),f&2&&_(i,1)):(i=Ot(u),i.c(),_(i,1),i.m(n,null)):i&&(le(),b(i,1,1,()=>{i=null}),oe())},i(u){r||(_(i),r=!0)},o(u){b(i),r=!1},d(u){u&&$(e),u&&$(t),u&&$(n),i&&i.d(),l=!1,o()}}}function Vs(s){let e,t,n,r,l,o,i;function u(c){s[3](c)}let f={title:"key testing",$$slots:{default:[Gs]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.open=s[0]),e=new ct({props:f}),ie.push(()=>Ne(e,"open",u)),{c(){I(e.$$.fragment),n=N(),r=T("button"),r.innerHTML='<svg viewBox="0 0 256 256" fill="none"><g fill="#5dd3e3"><ellipse cx="120.812" cy="54.745" rx="9.836" ry="9.846"></ellipse><ellipse cx="110.583" cy="172.111" rx="9.836" ry="9.846"></ellipse><ellipse cx="144.811" cy="35.446" rx="7.082" ry="7.089"></ellipse><ellipse cx="152.68" cy="185.895" rx="7.082" ry="7.089"></ellipse><ellipse cx="123.566" cy="89.797" rx="7.082" ry="7.089"></ellipse><ellipse cx="130.647" cy="136.271" rx="7.082" ry="7.089"></ellipse><ellipse cx="125.533" cy="5.12" rx="5.115" ry="5.12"></ellipse><ellipse cx="135.762" cy="167.385" rx="5.115" ry="5.12"></ellipse><ellipse cx="120.025" cy="197.317" rx="5.115" ry="5.12"></ellipse><ellipse cx="116.091" cy="152.418" rx="3.541" ry="3.545"></ellipse><ellipse cx="120.812" cy="119.335" rx="3.541" ry="3.545"></ellipse><ellipse cx="87.764" cy="194.166" rx="3.541" ry="3.545"></ellipse><ellipse cx="132.615" cy="109.095" rx="5.115" ry="5.12"></ellipse><path d="M183.611 213.12l-13.227-13.834c-13.377 8.271-20.065 4.726-32.655 6.696s-17.189 4.332-27.54 4.332l-33.048-1.364-12.043 15.151c-3.409 6.877 1.562 15.116 9.379 15.116h106.048c8.045 0 13.076-8.729 9.057-15.717l-5.97-10.38z"></path></g><path fill-rule="evenodd" d="M155.04 72.468v56.48l52.769 91.618c9.074 15.754-2.284 35.434-20.45 35.434H67.641c-18.166 0-29.524-19.68-20.45-35.434l52.769-91.618v-56.48H88.157V60.652h78.686v11.815H155.04zm-97.624 154l54.347-94.358V72.468h31.474v59.642l54.347 94.358c4.537 7.876-1.142 17.717-10.225 17.717H67.641c-9.083 0-14.762-9.841-10.225-17.717z" fill="#fff"></path></svg>',h(r,"class","svelte-1f9keg0")},m(c,a){O(e,c,a),v(c,n,a),v(c,r,a),l=!0,o||(i=D(r,"click",s[4]),o=!0)},p(c,[a]){const m={};a&34&&(m.$$scope={dirty:a,ctx:c}),!t&&a&1&&(t=!0,m.open=c[0],Ce(()=>t=!1)),e.$set(m)},i(c){l||(_(e.$$.fragment,c),l=!0)},o(c){b(e.$$.fragment,c),l=!1},d(c){K(e,c),c&&$(n),c&&$(r),o=!1,i()}}}function Ws(s,e,t){let n=!1,r="";function l(u){u.preventDefault(),t(1,r=u.key),console.log(u)}function o(u){n=u,t(0,n)}const i=()=>t(0,n=!0);return s.$$.update=()=>{s.$$.dirty&1&&(n||t(1,r=""))},[n,r,l,o,i]}class Fs extends Q{constructor(e){super(),Z(this,e,Ws,Vs,x,{})}}const{document:Xs}=ns;function Kt(s,e,t){const n=s.slice();return n[19]=e[t],n[21]=t,n}function Qe(s){const e=s.slice(),t=e[7].at(-1);return e[22]=t,e}function At(s){let e,t;return{c(){e=H("path"),h(e,"d",t="M"+s[22].x+" "+s[22].y+"H"+s[5]+"V"+s[6]+"H"+s[22].x+"z"),h(e,"class","selection svelte-1q0u0k8"),h(e,"fill","#0D99FF20"),h(e,"stroke-width","1")},m(n,r){v(n,e,r)},p(n,r){r&224&&t!==(t="M"+n[22].x+" "+n[22].y+"H"+n[5]+"V"+n[6]+"H"+n[22].x+"z")&&h(e,"d",t)},d(n){n&&$(e)}}}function It(s){let e,t,n,r;return{c(){e=H("circle"),h(e,"cx",t=s[19].x),h(e,"cy",n=s[19].y),h(e,"r",r=s[21]===s[7].length-1?5:3.5),h(e,"class","point svelte-1q0u0k8"),me(e,"last",s[21]===s[7].length-1)},m(l,o){v(l,e,o)},p(l,o){o&128&&t!==(t=l[19].x)&&h(e,"cx",t),o&128&&n!==(n=l[19].y)&&h(e,"cy",n),o&128&&r!==(r=l[21]===l[7].length-1?5:3.5)&&h(e,"r",r),o&128&&me(e,"last",l[21]===l[7].length-1)},d(l){l&&$(e)}}}function Zs(s){let e;return{c(){e=X("Snap to grid")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Qs(s){let e,t,n,r,l,o,i;function u(c){s[15](c)}let f={$$slots:{default:[Zs]},$$scope:{ctx:s}};return s[4]!==void 0&&(f.checked=s[4]),e=new jt({props:f}),ie.push(()=>Ne(e,"checked",u)),{c(){I(e.$$.fragment),n=N(),r=T("input"),h(r,"type","text"),h(r,"inputmode","numeric")},m(c,a){O(e,c,a),v(c,n,a),v(c,r,a),pt(r,s[1]),l=!0,o||(i=D(r,"input",s[16]),o=!0)},p(c,a){const m={};a&8388608&&(m.$$scope={dirty:a,ctx:c}),!t&&a&16&&(t=!0,m.checked=c[4],Ce(()=>t=!1)),e.$set(m),a&2&&r.value!==c[1]&&pt(r,c[1])},i(c){l||(_(e.$$.fragment,c),l=!0)},o(c){b(e.$$.fragment,c),l=!1},d(c){K(e,c),c&&$(n),c&&$(r),o=!1,i()}}}function Js(s){let e,t,n,r,l,o,i,u,f,c,a,m,M=`url('${s[0]}/${s[9].name}.svg')`,L,k=`${s[1]}px`,J,R,j,G,A,P,E;t=new Fs({}),r=new zs({}),o=new gt({});let y=s[8]&&At(Qe(s)),d=s[7],w=[];for(let p=0;p<d.length;p+=1)w[p]=It(Kt(s,d,p));return R=new gt({props:{$$slots:{default:[Qs]},$$scope:{ctx:s}}}),G=new xs({}),{c(){e=N(),I(t.$$.fragment),n=N(),I(r.$$.fragment),l=N(),I(o.$$.fragment),i=N(),u=T("main"),f=H("svg"),y&&y.c(),c=We();for(let p=0;p<w.length;p+=1)w[p].c();a=H("circle"),J=N(),I(R.$$.fragment),j=N(),I(G.$$.fragment),h(a,"cx",s[5]),h(a,"cy",s[6]),h(a,"r","3.5"),h(a,"class","point svelte-1q0u0k8"),h(f,"viewBox",m="0 0 "+s[3]+" "+s[2]),h(f,"fill","none"),h(f,"class","svelte-1q0u0k8"),ve(f,"--cursor-0",M),h(u,"class","svelte-1q0u0k8"),Ie(()=>s[14].call(u)),ve(u,"--grid-size",k)},m(p,C){v(p,e,C),O(t,p,C),v(p,n,C),O(r,p,C),v(p,l,C),O(o,p,C),v(p,i,C),v(p,u,C),g(u,f),y&&y.m(f,null),g(f,c);for(let _e=0;_e<w.length;_e+=1)w[_e].m(f,null);g(f,a),L=Jt(u,s[14].bind(u)),v(p,J,C),O(R,p,C),v(p,j,C),O(G,p,C),A=!0,P||(E=[D(Xs.body,"keydown",s[13]),D(f,"mousedown",s[11]),D(f,"mouseup",s[12]),D(u,"mousemove",s[10])],P=!0)},p(p,[C]){if(p[8]?y?y.p(Qe(p),C):(y=At(Qe(p)),y.c(),y.m(f,c)):y&&(y.d(1),y=null),C&128){d=p[7];let ee;for(ee=0;ee<d.length;ee+=1){const ft=Kt(p,d,ee);w[ee]?w[ee].p(ft,C):(w[ee]=It(ft),w[ee].c(),w[ee].m(f,a))}for(;ee<w.length;ee+=1)w[ee].d(1);w.length=d.length}(!A||C&32)&&h(a,"cx",p[5]),(!A||C&64)&&h(a,"cy",p[6]),(!A||C&12&&m!==(m="0 0 "+p[3]+" "+p[2]))&&h(f,"viewBox",m),C&513&&M!==(M=`url('${p[0]}/${p[9].name}.svg')`)&&ve(f,"--cursor-0",M),C&2&&k!==(k=`${p[1]}px`)&&ve(u,"--grid-size",k);const _e={};C&8388626&&(_e.$$scope={dirty:C,ctx:p}),R.$set(_e)},i(p){A||(_(t.$$.fragment,p),_(r.$$.fragment,p),_(o.$$.fragment,p),_(R.$$.fragment,p),_(G.$$.fragment,p),A=!0)},o(p){b(t.$$.fragment,p),b(r.$$.fragment,p),b(o.$$.fragment,p),b(R.$$.fragment,p),b(G.$$.fragment,p),A=!1},d(p){p&&$(e),K(t,p),p&&$(n),K(r,p),p&&$(l),K(o,p),p&&$(i),p&&$(u),y&&y.d(),lt(w,p),L(),p&&$(J),K(R,p),p&&$(j),K(G,p),P=!1,pe(E)}}}function en(s,e,t){let n,r;Bt(s,ut,E=>t(9,r=E));let{cursorDir:l}=e,o=0,i=0,u=!0,f=50,c=0,a=0,m=[];const M=[new te({default_combo:"v",combo:"m",description:"Switch to Move mode",callback:()=>ye.transition("move")}),new te({default_combo:"p",description:"Switch to Draw mode",callback:()=>ye.transition("draw")}),new te({default_combo:"ctrl+z",description:"Undo",callback:()=>{m.pop(),t(7,m)}})];function L(E){r.onMouseMove(E);const{clientX:y,clientY:d}=E,{left:w,top:p}=E.currentTarget.getBoundingClientRect();u?(t(5,c=dt(y,n)-w),t(6,a=dt(d,n)-p)):(t(5,c=y-w),t(6,a=d-p))}let k=!1;function J(E){r.onMouseDown(E),m.push(new U(c,a)),t(7,m),t(8,k=!0)}function R(E){r.onMouseUp(E),t(8,k=!1)}function j(E){var d;const y=document.activeElement;if(y instanceof HTMLInputElement&&y.dataset.blockShortcuts!=="false"||((d=y==null?void 0:y.dataset)==null?void 0:d.blockShortcuts)==="true"){E.currentTarget===document.activeElement&&r.onKeyPress(E);return}r.onKeyPress(E);for(const w of M)w.try(E)}console.log(new bs("M20 20C30 10 40 10 50 20S70 30 80 20S100 10 110 20A50 40 50 11120 110Q110 90 100 110T80 110 60 110 40 110 20 90Z").toString(`
`));function G(){i=this.clientWidth,o=this.clientHeight,t(3,i),t(2,o)}function A(E){u=E,t(4,u)}function P(){f=this.value,t(1,f)}return s.$$set=E=>{"cursorDir"in E&&t(0,l=E.cursorDir)},s.$$.update=()=>{s.$$.dirty&2&&(n=f/4)},[l,f,o,i,u,c,a,m,k,r,L,J,R,j,G,A,P]}class tn extends Q{constructor(e){super(),Z(this,e,en,Js,x,{cursorDir:0})}}new tn({target:document.body,props:{cursorDir:"https://raw.githubusercontent.com/MikhaD/svg-editor/main/public/cursor/svg"}});
